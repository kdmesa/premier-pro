(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43780,e=>{"use strict";var a=e.i(93628),t=e.i(86264),r=e.i(7695);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));i.displayName="CardDescription";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...t}));n.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>d,"CardTitle",()=>l])},44843,e=>{"use strict";e.i(74695),e.s([])},9043,e=>{"use strict";var a=e.i(93628),t=e.i(86264),r=e.i(7695);let s=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})}));s.displayName="Table";let d=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",e),...t}));d.displayName="TableHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let i=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));i.displayName="TableRow";let n=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("th",{ref:s,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));n.displayName="TableHead";let o=t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("td",{ref:s,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableCell",t.forwardRef(({className:e,...t},s)=>(0,a.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",e.s(["Table",()=>s,"TableBody",()=>l,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>d,"TableRow",()=>i])},30984,e=>{"use strict";var a=e.i(93628),t=e.i(67782),r=e.i(43780),s=e.i(75105),d=e.i(9043),l=e.i(39627),i=e.i(86264);e.i(44843);var n=e.i(74695),o=e.i(68482);function c(){let e=(0,t.useSearchParams)(),c=(0,t.useRouter)(),{toast:m}=(0,n.useToast)(),x=e.get("industry")||"Industry",f=(0,i.useMemo)(()=>`extras_${x}`,[x]),[p,h]=(0,i.useState)([]),u=[{id:1,name:"Inside Fridge",time:30,serviceCategory:"Kitchen",price:25,display:"frontend-backend-admin",qtyBased:!1,exemptFromDiscount:!1},{id:2,name:"Inside Oven",time:45,serviceCategory:"Kitchen",price:35,display:"frontend-backend-admin",qtyBased:!1,exemptFromDiscount:!1},{id:3,name:"Inside Cabinets",time:60,serviceCategory:"Kitchen",price:50,display:"backend-admin",qtyBased:!0,exemptFromDiscount:!0},{id:4,name:"Laundry Wash & Fold",time:90,serviceCategory:"Laundry",price:40,display:"admin-only",qtyBased:!0,exemptFromDiscount:!1}];(0,i.useEffect)(()=>{(()=>{try{let e=localStorage.getItem(f);if(e&&"null"!==e){let a=JSON.parse(e);if(Array.isArray(a))return void h(a)}h([])}catch{h([])}})()},[f]),(0,i.useEffect)(()=>{let e=e=>{if(e.key===f)try{let a=JSON.parse(e.newValue||"[]");Array.isArray(a)&&h(a)}catch{}};window.addEventListener("storage",e);let a=setInterval(()=>{try{let e=JSON.parse(localStorage.getItem(f)||"[]");Array.isArray(e)&&h(e)}catch{}},800);return()=>{window.removeEventListener("storage",e),clearInterval(a)}},[f]);let b=(e,a)=>{let t=p.findIndex(a=>a.id===e);if(t<0)return;let r=t+a;if(r<0||r>=p.length)return;let s=[...p],[d]=s.splice(t,1);s.splice(r,0,d),h(s),localStorage.setItem(f,JSON.stringify(s))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[0===p.length&&(0,a.jsx)(s.Button,{variant:"secondary",onClick:()=>{h(u),localStorage.setItem(f,JSON.stringify(u))},children:"Load Sample Data"}),(0,a.jsx)(s.Button,{variant:"outline",onClick:()=>c.push(`/admin/settings/industries/form-1/extras/new?industry=${encodeURIComponent(x)}`),children:"Add New"}),(0,a.jsx)(s.Button,{variant:"default",onClick:()=>{try{localStorage.setItem(f,JSON.stringify(p)),m({title:"Extras updated",description:"Extras order has been saved."})}catch{}},children:"Update priority"})]})}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{children:[x," - Form 1 / Extras"]}),(0,a.jsxs)(r.CardDescription,{children:["Manage upsell extras and add-ons for ",x,"."]})]}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"overflow-x-auto rounded-md border",children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Name"}),(0,a.jsx)(d.TableHead,{children:"Time"}),(0,a.jsx)(d.TableHead,{children:"Service Category"}),(0,a.jsx)(d.TableHead,{children:"Price"}),(0,a.jsx)(d.TableHead,{children:"Display"}),(0,a.jsx)(d.TableHead,{children:"Qty Based"}),(0,a.jsx)(d.TableHead,{children:"Exempt Discount"}),(0,a.jsx)(d.TableHead,{className:"text-right",children:"Action"})]})}),(0,a.jsxs)(d.TableBody,{children:[0===p.length&&(0,a.jsx)(d.TableRow,{children:(0,a.jsx)(d.TableCell,{colSpan:8,className:"text-center text-sm text-muted-foreground",children:"No data. Click Load Sample Data or Add New."})}),p.map(e=>{let t=Math.floor(e.time/60),r=e.time%60,i=t>0?`${t}h ${r}m`:`${r}m`,n="frontend-backend-admin"===e.display||"Both"===e.display?"Frontend, Backend & Admin":"backend-admin"===e.display||"Booking"===e.display?"Backend & Admin":"Admin Only";return(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{className:"font-medium",children:e.name}),(0,a.jsx)(d.TableCell,{children:i}),(0,a.jsx)(d.TableCell,{children:e.serviceChecklists&&e.serviceChecklists.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.serviceChecklists.map((e,t)=>(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:e},t))}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"-"})}),(0,a.jsxs)(d.TableCell,{children:["$",e.price.toFixed(2)]}),(0,a.jsx)(d.TableCell,{className:"text-xs",children:n}),(0,a.jsx)(d.TableCell,{className:"text-center",children:(0,a.jsx)("span",{className:e.qtyBased?"text-green-600 font-medium":"text-red-600 font-medium",children:e.qtyBased?"Yes":"No"})}),(0,a.jsx)(d.TableCell,{className:"text-center",children:(0,a.jsx)("span",{className:e.exemptFromDiscount?"text-green-600 font-semibold":"text-red-600 font-semibold",children:e.exemptFromDiscount?"✓":"✗"})}),(0,a.jsx)(d.TableCell,{className:"text-right",children:(0,a.jsxs)(l.DropdownMenu,{children:[(0,a.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(s.Button,{variant:"ghost",size:"sm",className:"gap-1 text-muted-foreground",children:["Options ",(0,a.jsx)(o.ChevronDown,{className:"h-4 w-4"})]})}),(0,a.jsxs)(l.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(l.DropdownMenuItem,{onClick:()=>c.push(`/admin/settings/industries/form-1/extras/new?industry=${encodeURIComponent(x)}&editId=${e.id}`),children:"Edit"}),(0,a.jsx)(l.DropdownMenuItem,{onClick:()=>b(e.id,-1),children:"Move Up"}),(0,a.jsx)(l.DropdownMenuItem,{onClick:()=>b(e.id,1),children:"Move Down"}),(0,a.jsx)(l.DropdownMenuItem,{onClick:()=>{var a;let t;return a=e.id,void(h(t=p.filter(e=>e.id!==a)),localStorage.setItem(f,JSON.stringify(t)),m({title:"Extra deleted",description:"The extra has been removed successfully."}))},className:"text-red-600",children:"Delete"})]})]})})]},e.id)})]})]})})})]})]})}e.s(["default",()=>c])}]);