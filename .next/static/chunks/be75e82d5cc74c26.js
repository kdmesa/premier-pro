(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44843,e=>{"use strict";e.i(74695),e.s([])},86167,e=>{"use strict";var t=e.i(86264),a=e.i(97353),s=e.i(93628),i=t.forwardRef((e,t)=>(0,s.jsx)(a.Primitive.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label",e.s(["Label",()=>i,"Root",()=>i])},34547,e=>{"use strict";var t=e.i(93628),a=e.i(86264),s=e.i(86167),i=e.i(69861),r=e.i(7695);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(s.Root,{ref:i,className:(0,r.cn)(n(),e),...a}));l.displayName=s.Root.displayName,e.s(["Label",()=>l])},43780,e=>{"use strict";var t=e.i(93628),a=e.i(86264),s=e.i(7695);let i=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("div",{ref:i,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let r=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("div",{ref:i,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));r.displayName="CardHeader";let n=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("h3",{ref:i,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));n.displayName="CardTitle";let l=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("p",{ref:i,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));l.displayName="CardDescription";let d=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("div",{ref:i,className:(0,s.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent",a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("div",{ref:i,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>i,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>n])},71581,e=>{"use strict";var t=e.i(93628),a=e.i(86264),s=e.i(7695);let i=a.forwardRef(({className:e,type:a,...i},r)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...i}));i.displayName="Input",e.s(["Input",()=>i])},43641,e=>{"use strict";var t=e.i(93628),a=e.i(86264),s=e.i(7695);let i=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...a}));i.displayName="Textarea",e.s(["Textarea",()=>i])},10679,e=>{"use strict";let t=(0,e.i(90295).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],10679)},76974,e=>{"use strict";var t=e.i(93628),a=e.i(86264),s=e.i(4084),i=e.i(21559),r=e.i(46714),n=e.i(75124),l=e.i(97353),d=e.i(10221),o=e.i(13703),c=e.i(49638),m="Tabs",[u,x]=(0,i.createContextScope)(m,[r.createRovingFocusGroupScope]),h=(0,r.createRovingFocusGroupScope)(),[g,f]=u(m),p=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:i,onValueChange:r,defaultValue:n,orientation:u="horizontal",dir:x,activationMode:h="automatic",...f}=e,p=(0,d.useDirection)(x),[v,b]=(0,o.useControllableState)({prop:i,onChange:r,defaultProp:n??"",caller:m});return(0,t.jsx)(g,{scope:s,baseId:(0,c.useId)(),value:v,onValueChange:b,orientation:u,dir:p,activationMode:h,children:(0,t.jsx)(l.Primitive.div,{dir:p,"data-orientation":u,...f,ref:a})})});p.displayName=m;var v="TabsList",b=a.forwardRef((e,a)=>{let{__scopeTabs:s,loop:i=!0,...n}=e,d=f(v,s),o=h(s);return(0,t.jsx)(r.Root,{asChild:!0,...o,orientation:d.orientation,dir:d.dir,loop:i,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...n,ref:a})})});b.displayName=v;var j="TabsTrigger",y=a.forwardRef((e,a)=>{let{__scopeTabs:i,value:n,disabled:d=!1,...o}=e,c=f(j,i),m=h(i),u=w(c.baseId,n),x=k(c.baseId,n),g=n===c.value;return(0,t.jsx)(r.Item,{asChild:!0,...m,focusable:!d,active:g,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":x,"data-state":g?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:u,...o,ref:a,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;g||d||!e||c.onValueChange(n)})})})});y.displayName=j;var N="TabsContent",C=a.forwardRef((e,s)=>{let{__scopeTabs:i,value:r,forceMount:d,children:o,...c}=e,m=f(N,i),u=w(m.baseId,r),x=k(m.baseId,r),h=r===m.value,g=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:d||h,children:({present:a})=>(0,t.jsx)(l.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:x,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:g.current?"0s":void 0},children:a&&o})})});function w(e,t){return`${e}-trigger-${t}`}function k(e,t){return`${e}-content-${t}`}C.displayName=N;var S=e.i(7695);let D=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(b,{ref:s,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));D.displayName=b.displayName;let B=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(y,{ref:s,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...a}));B.displayName=y.displayName;let T=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(C,{ref:s,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));T.displayName=C.displayName,e.s(["Tabs",()=>p,"TabsContent",()=>T,"TabsList",()=>D,"TabsTrigger",()=>B],76974)},30765,e=>{"use strict";let t=(0,e.i(90295).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],30765)},85096,e=>{"use strict";var t=e.i(93628),a=e.i(69861),s=e.i(7695);let i=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function r({className:e,variant:a,...r}){return(0,t.jsx)("div",{className:(0,s.cn)(i({variant:a}),e),...r})}e.s(["Badge",()=>r])},52971,e=>{"use strict";let t=(0,e.i(90295).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],52971)},61128,e=>{"use strict";let t=(0,e.i(90295).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);e.s(["UserCheck",()=>t],61128)},21576,79768,e=>{"use strict";var t=e.i(90295);let a=(0,t.default)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserMinus",()=>a],21576);let s=(0,t.default)("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);e.s(["ShieldBan",()=>s],79768)},70355,e=>{"use strict";let t=(0,e.i(90295).default)("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["BellOff",()=>t],70355)},67852,e=>{"use strict";let t=(0,e.i(90295).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],67852)},91299,e=>{"use strict";let t=(0,e.i(90295).default)("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);e.s(["BellRing",()=>t],91299)},5872,e=>{"use strict";var t=e.i(93628),a=e.i(86264),s=e.i(67782),i=e.i(43780),r=e.i(76974),n=e.i(34547),l=e.i(71581),d=e.i(43641),o=e.i(75105);e.i(44843);var c=e.i(74695),m=e.i(85096),u=e.i(65966),x=e.i(21576),h=e.i(79768),g=e.i(52971),f=e.i(70355),p=e.i(30765),v=e.i(16621),b=e.i(25388),j=e.i(10679),y=e.i(29369),N=e.i(61128),C=e.i(67852),w=e.i(91299);let k="adminCustomers";function S(){let e,S,D,B=(0,s.useParams)(),T=(0,s.useRouter)(),[R,I]=(0,a.useState)(null),[M,A]=(0,a.useState)({provider:"",score:5,comment:""}),L=B?.id,E="adminCustomerExtras",{toast:F}=(0,c.useToast)(),[P,$]=(0,a.useState)([]),[z,H]=(0,a.useState)(new Date),[O,U]=(0,a.useState)(""),[q,J]=(0,a.useState)("month"),[V,Y]=(0,a.useState)({company:"",firstName:"",lastName:"",gender:"",email:"",phone:"",address:"",notes:"",smsReminders:!1}),[G,K]=(0,a.useState)([]),[W,Q]=(0,a.useState)(!1),[X,Z]=(0,a.useState)(!1),[_,ee]=(0,a.useState)({name:"",email:"",phone:""}),[et,ea]=(0,a.useState)({isActive:!0,isBlocked:!1,isBookingBlocked:!1,isSubscribed:!0});(0,a.useEffect)(()=>{if(L)try{let e=localStorage.getItem(k);if(e){let t=JSON.parse(e).find(e=>String(e.id)===String(L));t&&I(t)}let t=localStorage.getItem("adminBookings");t&&$(JSON.parse(t));let a=localStorage.getItem(E);if(a&&"string"==typeof L){let e=JSON.parse(a)[L];e&&(Y(t=>({...t,company:e.company||"",gender:e.gender||"unspecified",notes:e.notes||"",smsReminders:!!e.smsReminders})),Array.isArray(e.contacts)&&K(e.contacts))}}catch{}},[L]),(0,a.useEffect)(()=>{if(!R)return;let e=R.name?.split(" ")??[];Y(t=>({...t,company:"",firstName:e[0]||"",lastName:e.slice(1).join(" ")||"",email:R.email||"",phone:R.phone||"",address:R.address||""}))},[R]);let es=e=>{if(!R)return;let t=localStorage.getItem(E),a=t?JSON.parse(t):{},s=a[String(R.id)]||{};a[String(R.id)]={...s,...e},localStorage.setItem(E,JSON.stringify(a))},ei=(0,a.useMemo)(()=>R?.name?R.name.split(" ").slice(0,2).map(e=>e[0]?.toUpperCase()).join(""):"?",[R]);return R?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.default,{href:"/admin/customers","aria-label":"Back to Customers",className:"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-muted",children:(0,t.jsx)(p.ChevronLeft,{className:"h-5 w-5"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold",children:R.name})]})}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(u.default,{href:`/admin/add-booking?customerId=${encodeURIComponent(String(R.id))}`,children:(0,t.jsx)(o.Button,{className:"text-white",style:{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"},children:"New Booking"})})})]}),(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"h-24 w-24 md:h-28 md:w-28 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center font-semibold text-xl md:text-2xl",children:ei}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Email:"})," ",(0,t.jsx)("a",{href:`mailto:${R.email}`,className:"text-cyan-700 hover:underline",children:R.email})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Phone:"})," ",R.phone]}),R.address&&(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Address:"})," ",R.address]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium",children:"Status:"})," ",(0,t.jsx)(m.Badge,{variant:"secondary",children:R.status||"active"})]})]})]}),(0,t.jsx)("div",{className:"w-full md:w-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:`h-10 w-10 rounded-full ${et.isActive?"bg-slate-200 hover:bg-slate-300":"bg-green-100 hover:bg-green-200"} text-slate-800 dark:bg-slate-800/60 dark:text-slate-200`,onClick:()=>ea(e=>({...e,isActive:!e.isActive})),children:et.isActive?(0,t.jsx)(x.UserMinus,{className:"h-5 w-5"}):(0,t.jsx)(N.UserCheck,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:et.isActive?"Deactivate":"Activate"})]}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:`h-10 w-10 rounded-full ${et.isBlocked?"bg-red-100 hover:bg-red-200":"bg-amber-100 hover:bg-amber-200"} text-amber-800 dark:bg-amber-900/20 dark:text-amber-300`,onClick:()=>ea(e=>({...e,isBlocked:!e.isBlocked})),children:et.isBlocked?(0,t.jsx)(C.ShieldCheck,{className:"h-5 w-5"}):(0,t.jsx)(h.ShieldBan,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:et.isBlocked?"Unblock Access":"Block Access"})]}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(o.Button,{variant:et.isBookingBlocked?"default":"outline",size:"icon",className:`h-10 w-10 rounded-full ${et.isBookingBlocked?"bg-red-500 hover:bg-red-600":"bg-slate-200 hover:bg-slate-300"} text-white`,onClick:()=>ea(e=>({...e,isBookingBlocked:!e.isBookingBlocked})),children:(0,t.jsx)(g.AlertCircle,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:et.isBookingBlocked?"Unblock Booking":"Block Booking"})]}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",className:`h-10 w-10 rounded-full ${!et.isSubscribed?"bg-blue-100 hover:bg-blue-200":"bg-slate-200 hover:bg-slate-300"} text-slate-800 dark:bg-slate-800/60 dark:text-slate-200`,onClick:()=>ea(e=>({...e,isSubscribed:!e.isSubscribed})),children:et.isSubscribed?(0,t.jsx)(f.BellOff,{className:"h-5 w-5"}):(0,t.jsx)(w.BellRing,{className:"h-5 w-5"})}),(0,t.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:et.isSubscribed?"Unsubscribe":"Subscribe"})]})]})})]})})}),(0,t.jsxs)(r.Tabs,{defaultValue:"dashboard",className:"w-full",children:[(0,t.jsxs)(r.TabsList,{className:"w-full justify-start gap-2 bg-muted/40 p-0 h-auto rounded-none border-b border-slate-200",children:[(0,t.jsx)(r.TabsTrigger,{value:"dashboard",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"Dashboard"}),(0,t.jsx)(r.TabsTrigger,{value:"profile",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"Profile"}),(0,t.jsx)(r.TabsTrigger,{value:"gift",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"Gift cards"}),(0,t.jsx)(r.TabsTrigger,{value:"referrals",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"Referrals"}),(0,t.jsx)(r.TabsTrigger,{value:"drive",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"My drive"}),(0,t.jsx)(r.TabsTrigger,{value:"invoices",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"Invoices"}),(0,t.jsx)(r.TabsTrigger,{value:"notifications",className:"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600",children:"Notifications"})]}),(0,t.jsx)(r.TabsContent,{value:"dashboard",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)(i.Card,{className:"lg:col-span-2",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 justify-start",children:[(0,t.jsx)(o.Button,{variant:"month"===q?"default":"outline",size:"sm",onClick:()=>J("month"),className:"month"===q?"text-white":"",style:"month"===q?{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"}:{},children:"Month"}),(0,t.jsx)(o.Button,{variant:"week"===q?"default":"outline",size:"sm",onClick:()=>J("week"),className:"week"===q?"text-white":"",style:"week"===q?{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"}:{},children:"Week"}),(0,t.jsx)(o.Button,{variant:"day"===q?"default":"outline",size:"sm",onClick:()=>J("day"),className:"day"===q?"text-white":"",style:"day"===q?{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"}:{},children:"Day"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsxs)(i.CardTitle,{className:"text-center",children:["month"===q&&new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric"}).format(z),"week"===q&&((S=new Date(e=new Date(z))).setDate(e.getDate()-e.getDay()),`Week of ${new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(S)}`),"day"===q&&new Intl.DateTimeFormat(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format(z)]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>H(new Date),title:"Today",children:(0,t.jsx)(b.Calendar,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>H(e=>"month"===q?new Date(e.getFullYear(),e.getMonth()-1,1):"week"===q?new Date(e.getFullYear(),e.getMonth(),e.getDate()-7):new Date(e.getFullYear(),e.getMonth(),e.getDate()-1)),"aria-label":"Previous",children:(0,t.jsx)(p.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)(o.Button,{variant:"outline",size:"icon",onClick:()=>H(e=>"month"===q?new Date(e.getFullYear(),e.getMonth()+1,1):"week"===q?new Date(e.getFullYear(),e.getMonth(),e.getDate()+7):new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)),"aria-label":"Next",children:(0,t.jsx)(v.ChevronRight,{className:"h-4 w-4"})})]})]})}),(0,t.jsx)(i.CardContent,{children:(()=>{let e=z.getFullYear(),a=z.getMonth(),s=new Date(e,a,1),i=new Date(e,a+1,0).getDate(),r=s.getDay(),n=(e,t,a)=>`${e}-${String(t+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`,l=P.filter(e=>e.customer?.email===R.email||e.customer?.name===R.name),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];if("month"===q)return(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[d.map(e=>(0,t.jsx)("div",{className:"text-center font-semibold text-sm text-muted-foreground py-2",children:e},e)),Array.from({length:r}).map((e,a)=>(0,t.jsx)("div",{className:"aspect-square"},`empty-${a}`)),Array.from({length:i}).map((s,i)=>{let r=i+1,d=n(e,a,r),o=l.filter(e=>e.date===d),c=new Date,m=c.getDate()===r&&c.getMonth()===a&&c.getFullYear()===e;return(0,t.jsx)("div",{className:`aspect-square border rounded-lg p-2 ${m?"border-cyan-500 bg-cyan-50 dark:bg-cyan-950/20":"border-border"}`,children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:`text-sm font-medium mb-1 ${m?"text-cyan-600 dark:text-cyan-400":""}`,children:r}),(0,t.jsxs)("div",{className:"flex-1 space-y-1 overflow-y-auto",children:[o.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"text-xs p-1 rounded text-white",style:{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"},children:[(0,t.jsx)("div",{className:"truncate font-medium",children:e.time}),(0,t.jsx)("div",{className:"truncate",children:e.service})]},e.id)),o.length>3&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:["+",o.length-3," more"]})]})]})},d)})]});if("week"===q){let e=new Date(z),a=new Date(e);a.setDate(e.getDate()-e.getDay());let s=Array.from({length:7}).map((e,t)=>{let s=new Date(a);s.setDate(a.getDate()+t);let i=n(s.getFullYear(),s.getMonth(),s.getDate());return{label:d[t],num:s.getDate(),key:i,isToday:new Date().toDateString()===s.toDateString()}});return(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:s.map(({label:e,num:a,key:s,isToday:i})=>{let r=l.filter(e=>e.date===s);return(0,t.jsxs)("div",{className:`min-h-[140px] border rounded-lg p-2 ${i?"border-cyan-500 bg-cyan-50 dark:bg-cyan-950/20":"border-border"}`,children:[(0,t.jsxs)("div",{className:"text-sm font-medium mb-1",children:[(0,t.jsx)("span",{className:"text-muted-foreground mr-1",children:e}),a]}),(0,t.jsxs)("div",{className:"space-y-1",children:[0===r.length&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"No bookings"}),r.map(e=>(0,t.jsxs)("div",{className:"text-xs p-1 rounded text-white",style:{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"},children:[(0,t.jsx)("div",{className:"truncate font-medium",children:e.time}),(0,t.jsx)("div",{className:"truncate",children:e.service})]},e.id))]})]},s)})})}let o=n(e,a,z.getDate()),c=l.filter(e=>e.date===o);return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[c.length," booking(s) on this day"]}),0===c.length&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No bookings scheduled."}),c.map(e=>(0,t.jsxs)("div",{className:"p-3 rounded-md border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"font-medium",children:e.service}),(0,t.jsx)("div",{className:"text-sm",children:e.time})]}),e.provider?.name&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Provider: ",e.provider.name]}),e.address&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.address})]},e.id))]})})()})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Providers"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(j.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{placeholder:"Search by name",className:"pl-10",value:O,onChange:e=>U(e.target.value)})]}),0===(D=Array.from(new Map(P.filter(e=>e.customer?.email===R.email||e.customer?.name===R.name).filter(e=>e.provider?.name).map(e=>[e.provider.name,e.provider])).values()).filter(e=>e.name.toLowerCase().includes(O.toLowerCase()))).length?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No assigned providers."}):(0,t.jsx)("div",{className:"space-y-2",children:D.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-md border",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center",children:(0,t.jsx)(y.User,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"text-sm font-medium",children:e.name})]},e.name))})]})]})]})}),(0,t.jsx)(r.TabsContent,{value:"profile",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Profile"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6",children:[(0,t.jsx)("div",{className:"h-28 w-28 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl text-muted-foreground",children:ei})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(n.Label,{children:"Choose file"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)(l.Input,{type:"file",className:"flex-1"}),(0,t.jsx)(o.Button,{variant:"outline",children:"Browse"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Image size should not be more than 300px by 300px."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Company name (Optional)"}),(0,t.jsx)(l.Input,{placeholder:"Ex: Sarahaswin",value:V.company,onChange:e=>Y({...V,company:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"First name"}),(0,t.jsx)(l.Input,{value:V.firstName,onChange:e=>Y({...V,firstName:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Last name"}),(0,t.jsx)(l.Input,{value:V.lastName,onChange:e=>Y({...V,lastName:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Gender"}),(0,t.jsxs)("div",{className:"flex items-center gap-6 mt-2 text-sm",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"gender",checked:"male"===V.gender,onChange:()=>Y({...V,gender:"male"})})," Male"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"gender",checked:"female"===V.gender,onChange:()=>Y({...V,gender:"female"})})," Female"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:"gender",checked:"unspecified"===V.gender,onChange:()=>Y({...V,gender:"unspecified"})})," Unspecified"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Email address"}),(0,t.jsx)(l.Input,{value:V.email,onChange:e=>Y({...V,email:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Phone no"}),(0,t.jsx)(l.Input,{value:V.phone,onChange:e=>Y({...V,phone:e.target.value})}),(0,t.jsxs)("label",{className:"mt-2 flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:V.smsReminders,onChange:e=>Y({...V,smsReminders:e.target.checked})}),(0,t.jsx)("span",{children:"Send me reminders via text message"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Address"}),(0,t.jsx)(l.Input,{value:V.address,onChange:e=>Y({...V,address:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{Q(e=>!e),Z(!1)},children:"+ Add Other Contact"}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",className:"text-cyan-700",onClick:()=>{Z(e=>!e),Q(!1)},children:"View Other Contact(s)"})]}),W&&(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 p-3 border rounded-md",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Contact Name"}),(0,t.jsx)(l.Input,{value:_.name,onChange:e=>ee({..._,name:e.target.value}),placeholder:"Full name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Contact Email"}),(0,t.jsx)(l.Input,{type:"email",value:_.email,onChange:e=>ee({..._,email:e.target.value}),placeholder:"email@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Contact Phone"}),(0,t.jsx)(l.Input,{value:_.phone,onChange:e=>ee({..._,phone:e.target.value}),placeholder:"(555) 123-4567"})]}),(0,t.jsxs)("div",{className:"md:col-span-3 flex justify-end gap-2",children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>{Q(!1),ee({name:"",email:"",phone:""})},children:"Cancel"}),(0,t.jsx)(o.Button,{className:"text-white",style:{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"},onClick:()=>{if(!_.name||!_.email)return void F({title:"Missing info",description:"Please enter at least name and email."});let e=[...G,{..._}];K(e),es({contacts:e}),ee({name:"",email:"",phone:""}),Q(!1),F({title:"Contact added"})},children:"Save Contact"})]})]}),X&&(0,t.jsxs)("div",{className:"mt-3 space-y-2 p-3 border rounded-md",children:[0===G.length&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No other contacts added."}),G.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-muted-foreground",children:[e.email,e.phone?` \xb7 ${e.phone}`:""]})]}),(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{let e;K(e=G.filter((e,t)=>t!==a)),es({contacts:e}),F({title:"Contact removed"})},children:"Remove"})]},a))]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{children:"Notes"}),(0,t.jsx)(d.Textarea,{placeholder:"Add notes about this customer",className:"min-h-[150px] mt-2",value:V.notes,onChange:e=>Y({...V,notes:e.target.value})})]})]})]}),(0,t.jsx)("div",{})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap pt-2 border-t mt-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>F({title:"Welcome Email Sent",description:"A welcome email has been resent."}),children:"Resend Welcome Email"}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>F({title:"Reset Password Email Sent",description:"A reset password email has been resent."}),children:"Resend Reset Password Email"})]}),(0,t.jsx)(o.Button,{onClick:()=>{if(R)try{let e=localStorage.getItem(k);if(e){let t=JSON.parse(e).map(e=>String(e.id)===String(R.id)?{...e,name:`${V.firstName} ${V.lastName}`.trim(),email:V.email,phone:V.phone,address:V.address}:e);localStorage.setItem(k,JSON.stringify(t));let a=t.find(e=>String(e.id)===String(R.id))||R;I(a);let s=localStorage.getItem(E),i=s?JSON.parse(s):{};i[String(R.id)]={company:V.company,gender:V.gender,notes:V.notes,smsReminders:V.smsReminders,contacts:G},localStorage.setItem(E,JSON.stringify(i)),F({title:"Profile Saved",description:"Customer details have been updated."})}}catch{}},className:"text-white",style:{background:"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)"},children:"Save Changes"})]})]})]})}),(0,t.jsx)(r.TabsContent,{value:"gift",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Gift cards"})}),(0,t.jsx)(i.CardContent,{className:"text-sm text-muted-foreground",children:"No gift cards yet."})]})}),(0,t.jsx)(r.TabsContent,{value:"referrals",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Referrals"})}),(0,t.jsx)(i.CardContent,{className:"text-sm text-muted-foreground",children:"No referrals yet."})]})}),(0,t.jsx)(r.TabsContent,{value:"drive",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"My drive"})}),(0,t.jsx)(i.CardContent,{className:"text-sm text-muted-foreground",children:"No files uploaded."})]})}),(0,t.jsx)(r.TabsContent,{value:"invoices",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Invoices"})}),(0,t.jsx)(i.CardContent,{className:"text-sm text-muted-foreground",children:"No invoices yet."})]})}),(0,t.jsx)(r.TabsContent,{value:"notifications",children:(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{children:"Notifications"})}),(0,t.jsx)(i.CardContent,{className:"text-sm text-muted-foreground",children:"No notifications yet."})]})})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading customer..."}),(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>T.push("/admin/customers"),children:"Back to Customers"})]})}e.s(["default",()=>S])}]);