module.exports=[25036,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(29380),e=a.i(67198),f=a.i(21302),g=a.i(75241),h=a.i(93472),i=a.i(82219),j=a.i(98932),k=a.i(31376);a.i(35203);var l=a.i(32550),m=a.i(18396);let n=(0,a.i(36249).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),o="adminBookings",p={"Standard Cleaning":120,"Deep Cleaning":250,"Move In/Out Cleaning":350,"Office Cleaning":200,"Carpet Cleaning":180},q=["frequencies_Home Cleaning","frequencies_Industry"];function r(){let a=(0,d.useRouter)(),{toast:r}=(0,l.useToast)(),[s,t]=(0,c.useState)({customerType:"new",firstName:"",lastName:"",email:"",phone:"",service:"",date:"",time:"",duration:"02",durationUnit:"Hours",frequency:"",notifyMoreTime:!1,address:"",paymentMethod:"",notes:"",adjustServiceTotal:!1,adjustPrice:!1,privateBookingNote:"",privateCustomerNote:"",serviceProviderNote:"",excludeCancellationFee:!1,excludeMinimumFee:!1,excludeCustomerNotification:!1,excludeProviderNotification:!1}),[u,v]=(0,c.useState)({firstName:!1,lastName:!1,email:!1,service:!1,date:!1,time:!1,address:!1}),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1);(0,c.useEffect)(()=>{try{let a=null;for(let b of q){let c=localStorage.getItem(b);if(c)try{let b=JSON.parse(c);if(!Array.isArray(b))continue;let d=b.filter(a=>a&&("Both"===a.display||"Booking"===a.display));if(0===d.length)continue;let e=d.filter(a=>a.isDefault);if((a=e.length>0?e:d).length>0)break}catch{}}if(!a||0===a.length)return;x(a);let b=a[0];b&&t(a=>a.frequency?a:{...a,frequency:b.name})}catch{}},[]);let E=(0,c.useMemo)(()=>{let a=p[s.service];return"number"==typeof a?a:0},[s.service]),F=(0,c.useMemo)(()=>{if(!E)return 0;let a=w.find(a=>a.name===s.frequency);if(!a)return E;let b="number"==typeof a.discount?a.discount:Number(a.discount??0);if(!b||Number.isNaN(b)||b<=0)return E;if("$"===a.discountType){let a=E-b;return a<0?0:a}let c=E*(1-b/100);return c<0?0:c},[E,w,s.frequency]),G=()=>{let b={firstName:!s.firstName.trim(),lastName:!s.lastName.trim(),email:!s.email.trim(),service:!s.service.trim(),date:!s.date.trim(),time:!s.time.trim(),address:!s.address.trim()},c=Object.values(b).some(Boolean);if(v(b),c)return void r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});let d=`${s.firstName} ${s.lastName}`.trim(),e={id:`BK${Date.now()}`,customer:{name:d,email:s.email,phone:s.phone},service:s.service,date:s.date,time:s.time,address:s.address,status:"pending",amount:`$${F.toFixed(0)}`,paymentMethod:s.paymentMethod||"Not specified",notes:s.notes},f=localStorage.getItem(o),g=[];if(f)try{g=JSON.parse(f)}catch(a){console.error("Failed to parse stored bookings",a)}g.unshift(e),localStorage.setItem(o,JSON.stringify(g)),r({title:"Booking Added",description:`New booking created for ${d}`}),a.push("/admin/bookings")};return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[(0,b.jsxs)(e.Card,{className:"border-primary/20 shadow-lg",children:[(0,b.jsx)(e.CardHeader,{className:"space-y-1",children:(0,b.jsx)(e.CardTitle,{children:"Customer Details"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsx)("div",{children:(0,b.jsxs)(i.RadioGroup,{value:s.customerType,onValueChange:a=>t({...s,customerType:a}),className:"flex gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"new",id:"new-customer"}),(0,b.jsx)(j.Label,{htmlFor:"new-customer",className:"font-medium",children:"New customer"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"existing",id:"existing-customer"}),(0,b.jsx)(j.Label,{htmlFor:"existing-customer",className:"font-medium",children:"Existing customer"})]})]})}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"firstName",className:"text-sm font-medium mb-2 block",children:"First name"}),(0,b.jsx)(g.Input,{id:"firstName",placeholder:"Ex: James",value:s.firstName,onChange:a=>{t({...s,firstName:a.target.value}),v(a=>({...a,firstName:!1}))},className:u.firstName?"border-red-500":""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"lastName",className:"text-sm font-medium mb-2 block",children:"Last name"}),(0,b.jsx)(g.Input,{id:"lastName",placeholder:"Ex: Lee",value:s.lastName,onChange:a=>{t({...s,lastName:a.target.value}),v(a=>({...a,lastName:!1}))},className:u.lastName?"border-red-500":""})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"email",className:"text-sm font-medium mb-2 block",children:"Email address"}),(0,b.jsx)(g.Input,{id:"email",type:"email",placeholder:"Ex: example@xyz.com",value:s.email,onChange:a=>{t({...s,email:a.target.value}),v(a=>({...a,email:!1}))},className:u.email?"border-red-500":""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium mb-2 block",children:"Select Time Duration"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(h.Select,{value:s.duration,onValueChange:a=>t({...s,duration:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:"w-20",children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"01",children:"01"}),(0,b.jsx)(h.SelectItem,{value:"02",children:"02"}),(0,b.jsx)(h.SelectItem,{value:"03",children:"03"}),(0,b.jsx)(h.SelectItem,{value:"04",children:"04"}),(0,b.jsx)(h.SelectItem,{value:"05",children:"05"}),(0,b.jsx)(h.SelectItem,{value:"06",children:"06"}),(0,b.jsx)(h.SelectItem,{value:"07",children:"07"}),(0,b.jsx)(h.SelectItem,{value:"08",children:"08"})]})]}),(0,b.jsxs)(h.Select,{value:s.durationUnit,onValueChange:a=>t({...s,durationUnit:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:"w-32",children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"Minutes",children:"Minutes"}),(0,b.jsx)(h.SelectItem,{value:"Hours",children:"Hours"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 mt-3",children:[(0,b.jsx)(k.Checkbox,{id:"notify-more-time",checked:s.notifyMoreTime,onCheckedChange:a=>t({...s,notifyMoreTime:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"notify-more-time",className:"text-sm",children:"Notify me if the job requires more time."})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-sm font-medium mb-3 block",children:"Frequency"}),w.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:w.map(a=>(0,b.jsx)(f.Button,{type:"button",variant:s.frequency===a.name?"default":"outline",onClick:()=>t(b=>({...b,frequency:a.name})),className:s.frequency===a.name?"bg-cyan-500 hover:bg-cyan-600 text-white":"",children:a.name},a.id))}):(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(f.Button,{type:"button",variant:"One-time"===s.frequency?"default":"outline",onClick:()=>t(a=>({...a,frequency:"One-time"})),className:"One-time"===s.frequency?"bg-cyan-500 hover:bg-cyan-600 text-white":"",children:"One-time"}),(0,b.jsx)(f.Button,{type:"button",variant:"Every 4 weeks"===s.frequency?"default":"outline",onClick:()=>t(a=>({...a,frequency:"Every 4 weeks"})),className:"Every 4 weeks"===s.frequency?"bg-cyan-500 hover:bg-cyan-600 text-white":"",children:"Every 4 weeks"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Booking Adjustments"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"adjust-service-total",checked:s.adjustServiceTotal,onCheckedChange:a=>t({...s,adjustServiceTotal:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"adjust-service-total",className:"text-sm",children:"Do you want to adjust service total?"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"adjust-price",checked:s.adjustPrice,onCheckedChange:a=>t({...s,adjustPrice:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"adjust-price",className:"text-sm",children:"Do you want to adjust price?"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"service",className:"text-sm font-medium mb-2 block",children:"Service Type"}),(0,b.jsxs)(h.Select,{value:s.service,onValueChange:a=>{t({...s,service:a}),v(a=>({...a,service:!1}))},children:[(0,b.jsx)(h.SelectTrigger,{className:u.service?"border-red-500":"",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select service"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"Standard Cleaning",children:"Standard Cleaning"}),(0,b.jsx)(h.SelectItem,{value:"Deep Cleaning",children:"Deep Cleaning"}),(0,b.jsx)(h.SelectItem,{value:"Move In/Out Cleaning",children:"Move In/Out Cleaning"}),(0,b.jsx)(h.SelectItem,{value:"Office Cleaning",children:"Office Cleaning"}),(0,b.jsx)(h.SelectItem,{value:"Carpet Cleaning",children:"Carpet Cleaning"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"date",className:"text-sm font-medium mb-2 block",children:"Date"}),(0,b.jsx)(g.Input,{id:"date",type:"date",value:s.date,onChange:a=>{t({...s,date:a.target.value}),v(a=>({...a,date:!1}))},className:u.date?"border-red-500":""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"time",className:"text-sm font-medium mb-2 block",children:"Time"}),(0,b.jsx)(g.Input,{id:"time",type:"time",value:s.time,onChange:a=>{t({...s,time:a.target.value}),v(a=>({...a,time:!1}))},className:u.time?"border-red-500":""})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"address",className:"text-sm font-medium mb-2 block",children:"Service Address"}),(0,b.jsx)(g.Input,{id:"address",placeholder:"Enter service address",value:s.address,onChange:a=>{t({...s,address:a.target.value}),v(a=>({...a,address:!1}))},className:u.address?"border-red-500":""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"payment",className:"text-sm font-medium mb-2 block",children:"Payment Method"}),(0,b.jsxs)(h.Select,{value:s.paymentMethod,onValueChange:a=>t({...s,paymentMethod:a}),children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Select payment method"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"Credit Card",children:"Credit Card"}),(0,b.jsx)(h.SelectItem,{value:"Cash",children:"Cash"}),(0,b.jsx)(h.SelectItem,{value:"Bank Transfer",children:"Bank Transfer"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"notes",className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),(0,b.jsx)(g.Input,{id:"notes",placeholder:"Add any special instructions",value:s.notes,onChange:a=>t({...s,notes:a.target.value})})]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-base",children:"Booking Summary"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Industry"}),(0,b.jsx)("span",{className:"font-medium",children:"Home Cleaning"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Service"}),(0,b.jsx)("span",{className:"font-medium",children:s.service||""})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Frequency"}),(0,b.jsx)("span",{className:"font-medium",children:s.frequency||"One-time"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Length"}),(0,b.jsxs)("span",{className:"font-medium",children:[s.duration," ","Hours"===s.durationUnit?"Hr":"Min"," ","01"!==s.duration&&"Hours"===s.durationUnit?"0 Min":""]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-base",children:"Payment Summary"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Service Total"}),(0,b.jsxs)("span",{className:"font-medium",children:["$",E.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Discounted Total"}),(0,b.jsxs)("span",{className:"font-medium",children:["$",F.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,b.jsx)("span",{children:"TOTAL"}),(0,b.jsxs)("span",{children:["$",F.toFixed(2)]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(e.Card,{className:"border border-gray-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 py-4 px-4",children:[(0,b.jsx)(e.CardTitle,{className:"text-base font-medium text-gray-900",children:"Private Booking Note"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>z(!y),className:"h-6 w-6 p-0 text-gray-600 hover:text-gray-900 ml-auto",children:y?(0,b.jsx)(n,{className:"h-4 w-4"}):(0,b.jsx)(m.Plus,{className:"h-4 w-4"})})]}),y&&(0,b.jsx)(e.CardContent,{className:"pt-0 px-4 pb-4",children:(0,b.jsx)(g.Input,{placeholder:"Add private booking note...",value:s.privateBookingNote,onChange:a=>t({...s,privateBookingNote:a.target.value})})})]}),(0,b.jsxs)(e.Card,{className:"border border-gray-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 py-4 px-4",children:[(0,b.jsx)(e.CardTitle,{className:"text-base font-medium text-gray-900",children:"Private Customer Note"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>B(!A),className:"h-6 w-6 p-0 text-gray-600 hover:text-gray-900 ml-auto",children:A?(0,b.jsx)(n,{className:"h-4 w-4"}):(0,b.jsx)(m.Plus,{className:"h-4 w-4"})})]}),A&&(0,b.jsx)(e.CardContent,{className:"pt-0 px-4 pb-4",children:(0,b.jsx)(g.Input,{placeholder:"Add private customer note...",value:s.privateCustomerNote,onChange:a=>t({...s,privateCustomerNote:a.target.value})})})]}),(0,b.jsxs)(e.Card,{className:"border border-gray-200",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 py-4 px-4",children:[(0,b.jsx)(e.CardTitle,{className:"text-base font-medium text-gray-900",children:"Note For Service Provider"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>D(!C),className:"h-6 w-6 p-0 text-gray-600 hover:text-gray-900 ml-auto",children:C?(0,b.jsx)(n,{className:"h-4 w-4"}):(0,b.jsx)(m.Plus,{className:"h-4 w-4"})})]}),C&&(0,b.jsx)(e.CardContent,{className:"pt-0 px-4 pb-4",children:(0,b.jsx)(g.Input,{placeholder:"Add note for service provider...",value:s.serviceProviderNote,onChange:a=>t({...s,serviceProviderNote:a.target.value})})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"exclude-cancellation-fee",checked:s.excludeCancellationFee,onCheckedChange:a=>t({...s,excludeCancellationFee:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"exclude-cancellation-fee",className:"text-sm",children:"Exclude cancellation fee"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"exclude-minimum-fee",checked:s.excludeMinimumFee,onCheckedChange:a=>t({...s,excludeMinimumFee:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"exclude-minimum-fee",className:"text-sm",children:"Exclude minimum fee"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"exclude-customer-notification",checked:s.excludeCustomerNotification,onCheckedChange:a=>t({...s,excludeCustomerNotification:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"exclude-customer-notification",className:"text-sm",children:"Exclude customer notification"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(k.Checkbox,{id:"exclude-provider-notification",checked:s.excludeProviderNotification,onCheckedChange:a=>t({...s,excludeProviderNotification:!!a})}),(0,b.jsx)(j.Label,{htmlFor:"exclude-provider-notification",className:"text-sm",children:"Exclude provider notification"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,b.jsx)(f.Button,{onClick:G,className:"text-white w-full",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:"Save Booking"}),(0,b.jsx)(f.Button,{onClick:G,className:"text-white w-full",style:{background:"linear-gradient(135deg, #3B82F6 0%, #2563EB 100%)"},children:"Save As Draft"}),(0,b.jsx)(f.Button,{onClick:G,className:"text-white w-full",style:{background:"linear-gradient(135deg, #F97316 0%, #EA580C 100%)"},children:"Save As Quote"})]})]})]})})}a.s(["default",()=>r],25036)}];

//# sourceMappingURL=OneDrive_Desktop_Premier-pro_src_app_admin_add-booking_page_tsx_72358d40._.js.map