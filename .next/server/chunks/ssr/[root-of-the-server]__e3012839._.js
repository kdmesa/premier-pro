module.exports=[90025,(a,b,c)=>{"use strict";b.exports=a.r(59088).vendored.contexts.HooksClientContext},48403,(a,b,c)=>{"use strict";b.exports=a.r(59088).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},63763,(a,b,c)=>{"use strict";b.exports=a.r(59088).vendored.contexts.AppRouterContext},13409,(a,b,c)=>{"use strict";b.exports=a.r(59088).vendored["react-ssr"].ReactServerDOMTurbopackClient},99607,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},62638,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},47554,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},62334,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(85390);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},38208,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},75241,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(66290);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},35203,a=>{"use strict";a.i(32550),a.s([])},98942,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(66290);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},22201,a=>{"use strict";let b=(0,a.i(36249).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],22201)},66678,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(70291),e=a.i(83150),f=a.i(62267),g=a.i(51424),h=a.i(91052),i=a.i(14735),j=a.i(15577),k=a.i(37334),l=a.i(74216),m=a.i(37960),n=a.i(2894),o=a.i(21338),p=a.i(33885),q=a.i(81144),r="Dialog",[s,t]=(0,f.createContextScope)(r),[u,v]=s(r),w=a=>{let{__scopeDialog:d,children:e,open:f,defaultOpen:i,onOpenChange:j,modal:k=!0}=a,l=c.useRef(null),m=c.useRef(null),[n,o]=(0,h.useControllableState)({prop:f,defaultProp:i??!1,onChange:j,caller:r});return(0,b.jsx)(u,{scope:d,triggerRef:l,contentRef:m,contentId:(0,g.useId)(),titleId:(0,g.useId)(),descriptionId:(0,g.useId)(),open:n,onOpenChange:o,onOpenToggle:c.useCallback(()=>o(a=>!a),[o]),modal:k,children:e})};w.displayName=r;var x="DialogTrigger",y=c.forwardRef((a,c)=>{let{__scopeDialog:f,...g}=a,h=v(x,f),i=(0,e.useComposedRefs)(c,h.triggerRef);return(0,b.jsx)(m.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":h.open,"aria-controls":h.contentId,"data-state":S(h.open),...g,ref:i,onClick:(0,d.composeEventHandlers)(a.onClick,h.onOpenToggle)})});y.displayName=x;var z="DialogPortal",[A,B]=s(z,{forceMount:void 0}),C=a=>{let{__scopeDialog:d,forceMount:e,children:f,container:g}=a,h=v(z,d);return(0,b.jsx)(A,{scope:d,forceMount:e,children:c.Children.map(f,a=>(0,b.jsx)(l.Presence,{present:e||h.open,children:(0,b.jsx)(k.Portal,{asChild:!0,container:g,children:a})}))})};C.displayName=z;var D="DialogOverlay",E=c.forwardRef((a,c)=>{let d=B(D,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=v(D,a.__scopeDialog);return g.modal?(0,b.jsx)(l.Presence,{present:e||g.open,children:(0,b.jsx)(G,{...f,ref:c})}):null});E.displayName=D;var F=(0,q.createSlot)("DialogOverlay.RemoveScroll"),G=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=v(D,d);return(0,b.jsx)(o.RemoveScroll,{as:F,allowPinchZoom:!0,shards:[f.contentRef],children:(0,b.jsx)(m.Primitive.div,{"data-state":S(f.open),...e,ref:c,style:{pointerEvents:"auto",...e.style}})})}),H="DialogContent",I=c.forwardRef((a,c)=>{let d=B(H,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=v(H,a.__scopeDialog);return(0,b.jsx)(l.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(J,{...f,ref:c}):(0,b.jsx)(K,{...f,ref:c})})});I.displayName=H;var J=c.forwardRef((a,f)=>{let g=v(H,a.__scopeDialog),h=c.useRef(null),i=(0,e.useComposedRefs)(f,g.contentRef,h);return c.useEffect(()=>{let a=h.current;if(a)return(0,p.hideOthers)(a)},[]),(0,b.jsx)(L,{...a,ref:i,trapFocus:g.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,d.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),g.triggerRef.current?.focus()}),onPointerDownOutside:(0,d.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,d.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),K=c.forwardRef((a,d)=>{let e=v(H,a.__scopeDialog),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(L,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),L=c.forwardRef((a,d)=>{let{__scopeDialog:f,trapFocus:g,onOpenAutoFocus:h,onCloseAutoFocus:k,...l}=a,m=v(H,f),o=c.useRef(null),p=(0,e.useComposedRefs)(d,o);return(0,n.useFocusGuards)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.FocusScope,{asChild:!0,loop:!0,trapped:g,onMountAutoFocus:h,onUnmountAutoFocus:k,children:(0,b.jsx)(i.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":S(m.open),...l,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(W,{titleId:m.titleId}),(0,b.jsx)(X,{contentRef:o,descriptionId:m.descriptionId})]})]})}),M="DialogTitle",N=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=v(M,d);return(0,b.jsx)(m.Primitive.h2,{id:f.titleId,...e,ref:c})});N.displayName=M;var O="DialogDescription",P=c.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=v(O,d);return(0,b.jsx)(m.Primitive.p,{id:f.descriptionId,...e,ref:c})});P.displayName=O;var Q="DialogClose",R=c.forwardRef((a,c)=>{let{__scopeDialog:e,...f}=a,g=v(Q,e);return(0,b.jsx)(m.Primitive.button,{type:"button",...f,ref:c,onClick:(0,d.composeEventHandlers)(a.onClick,()=>g.onOpenChange(!1))})});function S(a){return a?"open":"closed"}R.displayName=Q;var T="DialogTitleWarning",[U,V]=(0,f.createContext)(T,{contentName:H,titleName:M,docsSlug:"dialog"}),W=({titleId:a})=>{let b=V(T),d=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return c.useEffect(()=>{a&&(document.getElementById(a)||console.error(d))},[d,a]),null},X=({contentRef:a,descriptionId:b})=>{let d=V("DialogDescriptionWarning"),e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d.contentName}}.`;return c.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(e))},[e,a,b]),null},Y=a.i(27246),Z=a.i(66290);let $=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(E,{ref:d,className:(0,Z.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));$.displayName=E.displayName;let _=c.forwardRef(({className:a,children:c,...d},e)=>(0,b.jsxs)(C,{children:[(0,b.jsx)($,{}),(0,b.jsxs)(I,{ref:e,className:(0,Z.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[c,(0,b.jsxs)(R,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,b.jsx)(Y.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));_.displayName=I.displayName;let aa=({className:a,...c})=>(0,b.jsx)("div",{className:(0,Z.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});aa.displayName="DialogHeader";let ab=({className:a,...c})=>(0,b.jsx)("div",{className:(0,Z.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});ab.displayName="DialogFooter";let ac=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(N,{ref:d,className:(0,Z.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));ac.displayName=N.displayName;let ad=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(P,{ref:d,className:(0,Z.cn)("text-sm text-muted-foreground",a),...c}));ad.displayName=P.displayName,a.s(["Dialog",()=>w,"DialogClose",()=>R,"DialogContent",()=>_,"DialogDescription",()=>ad,"DialogFooter",()=>ab,"DialogHeader",()=>aa,"DialogTitle",()=>ac,"DialogTrigger",()=>y],66678)},14669,a=>{"use strict";let b=(0,a.i(36249).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],14669)},12792,a=>{"use strict";let b=(0,a.i(36249).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],12792)},70036,a=>{"use strict";var b=a.i(43112),c=a.i(71506),d=a.i(9620),e=a.i(21302),f=a.i(12792);a.s(["BookingsTable",0,({bookings:a,emptyMessage:g,onCancelBooking:h,onEditBooking:i,customActions:j})=>{let k=!!(h||i||j);return(0,b.jsx)("div",{className:"rounded-3xl border border-border bg-card shadow-sm",children:(0,b.jsxs)(c.Table,{children:[(0,b.jsx)(c.TableHeader,{children:(0,b.jsxs)(c.TableRow,{children:[(0,b.jsx)(c.TableHead,{className:"w-[200px]",children:"Schedule Details"}),(0,b.jsx)(c.TableHead,{children:"Assigned provider"}),(0,b.jsx)(c.TableHead,{children:"Service"}),(0,b.jsx)(c.TableHead,{children:"Frequency"}),(0,b.jsx)(c.TableHead,{children:"Location"}),(0,b.jsx)(c.TableHead,{className:"text-right",children:"Amount"}),k&&(0,b.jsx)(c.TableHead,{className:"text-center",children:"Actions"})]})}),(0,b.jsxs)(c.TableBody,{children:[0===a.length&&(0,b.jsx)(c.TableRow,{children:(0,b.jsx)(c.TableCell,{colSpan:k?7:6,className:"text-center text-sm text-muted-foreground py-10",children:g})}),a.map(a=>{var g;let l,m;return(0,b.jsxs)(c.TableRow,{children:[(0,b.jsxs)(c.TableCell,{children:[(0,b.jsx)("p",{className:"font-semibold",children:Number.isNaN((l=new Date(g=a.date)).getTime())?g:l.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.time})]}),(0,b.jsx)(c.TableCell,{children:(0,b.jsx)("p",{className:"font-semibold",children:a.provider?.trim()||""})}),(0,b.jsxs)(c.TableCell,{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.service}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",a.status]})]}),(0,b.jsx)(c.TableCell,{children:a.frequency}),(0,b.jsxs)(c.TableCell,{children:[(0,b.jsx)("p",{children:a.address}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.contact})]}),(0,b.jsx)(c.TableCell,{className:"text-right font-semibold",children:(m=a.price,new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(m))}),k&&(0,b.jsx)(c.TableCell,{className:"text-center",children:(0,b.jsxs)(d.DropdownMenu,{children:[(0,b.jsx)(d.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,b.jsx)(f.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(d.DropdownMenuContent,{align:"end",className:"w-48",children:[i&&(0,b.jsx)(d.DropdownMenuItem,{onSelect:()=>i(a),children:"Edit / Reschedule"}),h&&(0,b.jsx)(d.DropdownMenuItem,{className:"text-destructive focus:text-destructive",onSelect:b=>{b.preventDefault(),h(a)},children:"Cancel booking"}),j&&(i||h)&&j(a).length>0&&(0,b.jsx)(d.DropdownMenuSeparator,{}),j?.(a).map(a=>(0,b.jsx)(d.DropdownMenuItem,{className:a.destructive?"text-destructive focus:text-destructive":void 0,onSelect:b=>{b.preventDefault(),a.onSelect()},children:a.label},a.label))]})]})})]},a.id)})]})]})})}])},62945,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(29380),e=a.i(49255),f=a.i(7873),g=a.i(22201),h=a.i(14669),i=a.i(4418),j=a.i(70036),k=a.i(88984),l=a.i(45672),m=a.i(75241),n=a.i(75039),o=a.i(66678),p=a.i(98942),q=a.i(21302),r=a.i(69103);a.i(35203);var s=a.i(32550);let t=a=>{let b=new Date(`${a.date}T${a.time}`);if(Number.isNaN(b.getTime()))return`${a.date} • ${a.time}`;let c=b.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric",year:"numeric"}),d=b.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});return`${c} • ${d}`},u=[10,15,25],v=a=>new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(a);a.s(["default",0,()=>{let a=(0,d.useRouter)(),{bookings:w,loading:x,updateBookings:y}=(0,k.useCustomerBookings)(),{customerName:z,customerEmail:A,accountLoading:B,handleLogout:C}=(0,l.useCustomerAccount)(),{toast:D}=(0,s.useToast)(),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(5),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)({}),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(null);(0,c.useEffect)(()=>{},[]);let Y=(0,c.useCallback)(a=>{P(a)},[]),Z=(0,c.useCallback)(()=>{H(!1),J(null),L(5),N("")},[]),$=(0,c.useMemo)(()=>w.filter(a=>"completed"===a.status),[w]),_=(0,c.useMemo)(()=>{if(!E.trim())return $;let a=E.toLowerCase();return $.filter(b=>b.service.toLowerCase().includes(a)||b.provider.toLowerCase().includes(a)||b.address.toLowerCase().includes(a)||b.id.toLowerCase().includes(a))},[$,E]);z.split(" ")[0];let aa=(0,c.useMemo)(()=>z.split(" ").filter(Boolean).slice(0,2).map(a=>a[0]?.toUpperCase()??"").join("")||"PP",[z]),ab=(0,c.useCallback)(a=>{J(a);let b=O[a.id];L(b?.rating??5),N(b?.feedback??""),H(!0)},[O]),ac=(0,c.useCallback)(b=>{a.push(`/customer/appointments/${b.id}`)},[a]),ad=(0,c.useCallback)(a=>{(T(a),R(!0),X(null),"number"!=typeof a.tipAmount||Number.isNaN(a.tipAmount))?V(""):V(a.tipAmount.toFixed(2))},[]),ae=(0,c.useCallback)(b=>{(0,n.persistBookAgainPayload)(b),a.push(`/book-now?bookingId=${b.id}`)},[a]),af=(0,c.useCallback)(()=>{if(!I)return;let a=M.trim();Y({...O,[I.id]:{rating:K,feedback:a,updatedAt:new Date().toISOString()}}),D({title:"Review updated",description:`Thanks for rating ${I.service}.`}),Z()},[I,M,K,O,Y,D,Z]),ag=(0,c.useCallback)(()=>{R(!1),T(null),V(""),X(null)},[]),ah=(0,c.useCallback)(()=>{if(!S)return;let a=U.trim(),b=Number.parseFloat(a);if(!a||Number.isNaN(b)||b<=0)return void X("Enter a tip greater than $0");let c=Math.round(100*b)/100;y(a=>a.map(a=>a.id===S.id?{...a,tipAmount:c,tipUpdatedAt:new Date().toISOString()}:a)),D({title:"Tip saved",description:`We recorded ${v(c)} for ${S.service}.`}),ag()},[S,U,y,D,ag]),ai=(0,c.useCallback)(()=>{S&&(y(a=>a.map(a=>a.id===S.id?{...a,tipAmount:void 0,tipUpdatedAt:void 0}:a)),D({title:"Tip removed",description:`No tip is recorded for ${S.service} anymore.`}),ag())},[S,y,D,ag]);return x||B?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-muted/40",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 text-muted-foreground",children:[(0,b.jsx)(e.Clock,{className:"h-8 w-8 animate-spin"}),(0,b.jsx)("p",{children:"Loading your appointments..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-muted/20 text-foreground",children:[(0,b.jsxs)("div",{className:"min-h-screen flex flex-col lg:grid lg:grid-cols-[280px_1fr]",children:[(0,b.jsx)(i.CustomerSidebar,{customerName:z,customerEmail:A,initials:aa,onLogout:C}),(0,b.jsxs)("div",{className:"order-1 flex flex-col lg:order-2",children:[(0,b.jsx)("header",{className:"bg-background border-b border-border shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col px-6 py-5 gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(f.History,{className:"h-4 w-4"}),"Service history"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Previous appointments"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Review recently completed cleanings and keep track of provider notes."})]})}),(0,b.jsxs)("main",{className:"flex-1 space-y-8 px-4 py-8 sm:px-6 lg:px-10",children:[(0,b.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:(0,b.jsx)("div",{className:"flex-1 min-w-[200px] max-w-md",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(m.Input,{value:E,onChange:a=>F(a.target.value),placeholder:"Search completed bookings",className:"pl-9"})]})})}),(0,b.jsx)(j.BookingsTable,{bookings:_,emptyMessage:"You have no completed appointments yet. They'll show up here once a service is done.",customActions:a=>[{label:"Add/Edit review",onSelect:()=>ab(a)},{label:"View details",onSelect:()=>ac(a)},{label:a.tipAmount?"Update tip":"Add tip",onSelect:()=>ad(a)},{label:"Book again",onSelect:()=>ae(a)}]})]})]})]}),(0,b.jsx)(o.Dialog,{open:G,onOpenChange:a=>a?H(!0):Z(),children:(0,b.jsxs)(o.DialogContent,{className:"max-w-md rounded-[32px] border-none p-0 shadow-2xl",children:[(0,b.jsx)(o.DialogTitle,{className:"sr-only",children:"Edit booking review"}),I&&(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-8",children:[(0,b.jsxs)("div",{className:"space-y-2 text-center",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.4em] text-muted-foreground",children:"Your opinion matters"}),(0,b.jsxs)("h2",{className:"text-xl font-bold",children:["Help us improve your ",I.service.toLowerCase()," experience"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Share how things went so we can keep delivering spotless service."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl bg-muted/40 p-4",children:[(0,b.jsx)(r.Avatar,{className:"h-12 w-12",children:(0,b.jsx)(r.AvatarFallback,{className:"bg-primary/10 text-base font-semibold text-primary",children:z.slice(0,1)||"C"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:z}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:t(I)})]})]}),(0,b.jsxs)("div",{className:"space-y-3 text-center",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"How would you rate your recent service?"}),(0,b.jsx)("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>L(a),className:`rounded-full border p-2 transition hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/60 ${a<=K?"border-amber-200 bg-amber-100 text-amber-500":"border-border bg-background text-muted-foreground"}`,"aria-label":`Set rating to ${a} star${a>1?"s":""}`,children:(0,b.jsx)(h.Star,{className:"h-6 w-6",strokeWidth:a<=K?0:1.5,fill:a<=K?"currentColor":"none"})},a))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold",htmlFor:"review-feedback",children:"Tell us about your experience"}),(0,b.jsx)(p.Textarea,{id:"review-feedback",value:M,onChange:a=>N(a.target.value),rows:4,placeholder:"Great service!",className:"rounded-2xl border-muted bg-background/80"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,b.jsx)(q.Button,{variant:"outline",className:"flex-1",onClick:Z,children:"Maybe later"}),(0,b.jsx)(q.Button,{className:"flex-1",onClick:af,disabled:!M.trim(),children:"Rate now"})]})]})]})}),(0,b.jsx)(o.Dialog,{open:Q,onOpenChange:a=>a?R(!0):ag(),children:(0,b.jsxs)(o.DialogContent,{className:"max-w-md rounded-[32px] border-none p-0 shadow-2xl",children:[(0,b.jsx)(o.DialogTitle,{className:"sr-only",children:"Add a thank-you tip"}),S&&(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-8",children:[(0,b.jsxs)("div",{className:"space-y-2 text-center",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-muted-foreground",children:"Show appreciation"}),(0,b.jsxs)("h2",{className:"text-xl font-bold",children:["Add a tip for ",S.provider]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Base service total ",v(S.price),"number"==typeof S.tipAmount&&(0,b.jsxs)(b.Fragment,{children:[" ","• Current tip ",v(S.tipAmount)]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-dashed border-primary/20 p-4 text-sm",children:[(0,b.jsx)("p",{className:"font-semibold",children:S.service}),(0,b.jsx)("p",{className:"text-muted-foreground",children:t(S)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-semibold",htmlFor:"tip-amount",children:"Tip amount"}),(0,b.jsx)(m.Input,{id:"tip-amount",type:"number",min:"1",step:"0.01",value:U,onChange:a=>{V(a.target.value),W&&X(null)},placeholder:"15.00",inputMode:"decimal"}),W&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:W})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(a=>(0,b.jsx)(q.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{V(a.toFixed(2)),X(null)},children:v(a)},a))}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,b.jsx)(q.Button,{variant:"outline",className:"flex-1",onClick:ag,children:"Cancel"}),(0,b.jsx)(q.Button,{className:"flex-1",onClick:ah,disabled:!U.trim(),children:"Save tip"})]}),"number"==typeof S.tipAmount&&(0,b.jsx)(q.Button,{variant:"ghost",className:"text-destructive",onClick:ai,children:"Remove existing tip"})]})]})})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e3012839._.js.map