module.exports=[66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},74550,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(75241),e=a.i(21302),f=a.i(71506),g=a.i(22201),h=a.i(57174),i=a.i(22443),j=a.i(18396),k=a.i(27246),l=a.i(32478);let m=(0,a.i(36249).default)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);var n=a.i(9620),o=a.i(86670),p=a.i(66680);let q={randomUUID:p.randomUUID},r=new Uint8Array(256),s=r.length,t=[];for(let a=0;a<256;++a)t.push((a+256).toString(16).slice(1));let u=function(a,b,c){if(q.randomUUID&&!b&&!a)return q.randomUUID();var d=a,e=c;let f=(d=d||{}).random??d.rng?.()??(s>r.length-16&&((0,p.randomFillSync)(r),s=0),r.slice(s,s+=16));if(f.length<16)throw Error("Random bytes length must be >= 16");if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b){if((e=e||0)<0||e+16>b.length)throw RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let a=0;a<16;++a)b[e+a]=f[a];return b}return function(a,b=0){return(t[a[b+0]]+t[a[b+1]]+t[a[b+2]]+t[a[b+3]]+"-"+t[a[b+4]]+t[a[b+5]]+"-"+t[a[b+6]]+t[a[b+7]]+"-"+t[a[b+8]]+t[a[b+9]]+"-"+t[a[b+10]]+t[a[b+11]]+t[a[b+12]]+t[a[b+13]]+t[a[b+14]]+t[a[b+15]]).toLowerCase()}(f)},v=[{id:"1",name:"John Doe",phone:"(123) 456-7890",email:"john@example.com",createdAt:new Date("2023-11-28"),tags:["Premium","VIP"],status:"new"},{id:"2",name:"Jane Smith",phone:"(234) 567-8901",email:"jane@example.com",createdAt:new Date("2023-11-27"),tags:["Standard"],status:"contacted"},{id:"3",name:"Bob Johnson",phone:"(345) 678-9012",email:"bob@example.com",createdAt:new Date("2023-11-26"),tags:["VIP"],status:"qualified"}],w=[{id:"name",header:"Name",accessor:"name",type:"text"},{id:"phone",header:"Phone",accessor:"phone",type:"text"},{id:"email",header:"Email",accessor:"email",type:"text"},{id:"createdAt",header:"Created At",accessor:"createdAt",type:"date"},{id:"tags",header:"Tags",accessor:"tags",type:"tags"},{id:"status",header:"Status",accessor:"status",type:"status"}];function x(){let[a,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("all"),[s,t]=(0,c.useState)("all"),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)(()=>v),[B,C]=(0,c.useState)(()=>w),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)({}),[L,M]=(0,c.useState)({}),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(!1);(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{},[z,B,N]);let T=(a,b,c)=>{A(z.map(d=>d.id===a?{...d,[b]:c}:d))},U=a=>{let b=L[a]?.trim();b&&(A(z.map(c=>{if(c.id===a){let a=[...c.tags||[],b];return{...c,tags:a}}return c})),M(b=>({...b,[a]:""})),K(b=>({...b,[a]:!1})))},V=a=>{K(b=>({...b,[a]:!b[a]}))},W=(a,b,c)=>{A(z.map(d=>{if(d.id===a){let a=[...d.tags];return a[b]=c,{...d,tags:a}}return d})),I(null)},X=()=>{if(P.trim()&&!["new","contacted","qualified","lost",...N].includes(P.trim().toLowerCase())){let a=P.trim().toLowerCase();O(b=>[...b,a]),Q(""),S(!1)}},Y=(0,c.useMemo)(()=>Array.from(new Set(["new",...["contacted","qualified","lost"].filter(a=>!N.includes(a)),...N])),[N]),Z=(0,c.useMemo)(()=>"all"!==x?z.filter(a=>a.status===x):z.filter(b=>{let c=""===a||b.name.toLowerCase().includes(a.toLowerCase())||b.email.toLowerCase().includes(a.toLowerCase())||b.phone.includes(a),d="all"===q||b.status===q,e="all"===s||b.tags.includes(s);return c&&d&&e}),[z,a,q,s,x]),$=(0,c.useMemo)(()=>{let a=new Set;return z.forEach(b=>{b.tags.forEach(b=>a.add(b))}),Array.from(a)},[z]),_=()=>{if(!D.trim())return;let a={id:D.toLowerCase().replace(/\s+/g,"_"),header:D,accessor:D.toLowerCase().replace(/\s+/g,"_"),type:"text"};C([...B,a]),E(""),G(!1),A(z.map(b=>({...b,[a.accessor]:""})))};return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-4 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full",children:[(0,b.jsxs)("div",{className:"relative w-full sm:w-96",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-500"}),(0,b.jsx)(d.Input,{type:"text",placeholder:"Search leads...",className:"pl-10",value:a,onChange:a=>p(a.target.value)})]}),(0,b.jsx)("div",{className:"relative w-full sm:w-48",children:(0,b.jsxs)("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:s,onChange:a=>t(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"All Tags"}),$.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})}),(0,b.jsx)("div",{className:"relative w-full sm:w-48",children:(0,b.jsxs)("select",{value:x,onChange:a=>y(a.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[(0,b.jsx)("option",{value:"all",children:"All Statuses"}),Y.map(a=>(0,b.jsx)("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,b.jsxs)(e.Button,{onClick:()=>{let a={id:u(),name:"",phone:"",email:"",createdAt:new Date,tags:[],status:"new"};B.forEach(b=>{["name","email","phone","createdAt","tags","status"].includes(b.id)||(a[b.id]="")}),A([a,...z])},className:"flex items-center gap-2",children:[(0,b.jsx)(j.Plus,{className:"h-4 w-4"}),"Add Row"]}),(0,b.jsxs)(e.Button,{onClick:()=>{let a=new Blob([["Name,Phone,Email,Created At,Tags,Status",...Z.map(a=>`"${a.name}","${a.phone}","${a.email}","${(0,o.format)(a.createdAt,"yyyy-MM-dd")}","${a.tags.join(", ")}","${a.status}"`)].join("\n")],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`leads-${(0,o.format)(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c)},variant:"outline",className:"ml-2",children:[(0,b.jsx)(h.Download,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Leads"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[F&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Input,{type:"text",placeholder:"Column name",value:D,onChange:a=>E(a.target.value),onKeyDown:a=>"Enter"===a.key&&_(),className:"h-8 text-sm w-48"}),(0,b.jsx)(e.Button,{onClick:_,disabled:!D.trim(),className:"h-8 px-3 text-sm",children:"Add"})]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",className:"flex items-center gap-1 h-8",onClick:()=>G(!F),children:[(0,b.jsx)(m,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{children:F?"Cancel":"Add Column"})]})]})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(f.Table,{className:"min-w-full",children:[(0,b.jsx)(f.TableHeader,{className:"bg-white",children:(0,b.jsxs)(f.TableRow,{className:"border-b border-gray-200",children:[B.map(a=>(0,b.jsx)(f.TableHead,{className:"text-xs font-medium text-gray-500 uppercase tracking-wider relative group",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-bold text-black",children:a.header}),!["name","email","phone","createdAt","tags","status"].includes(a.id)&&(0,b.jsx)("button",{onClick:()=>{var b;["name","email","phone","createdAt","tags","status"].includes(b=a.id)||C(B.filter(a=>a.id!==b))},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 ml-2",title:"Remove column",children:(0,b.jsx)(k.X,{className:"h-3 w-3"})})]})},a.id)),(0,b.jsx)(f.TableHead,{className:"w-10",children:(0,b.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,b.jsx)(f.TableBody,{children:Z.length>0?Z.map((a,c)=>(0,b.jsxs)(f.TableRow,{className:`${c%2==0?"bg-white":"bg-gray-50"} hover:bg-gray-50 border-b border-gray-100`,children:[B.map(c=>{let d=a[c.accessor];return(0,b.jsx)(f.TableCell,{className:"px-4 py-3 text-sm text-gray-900 align-top",children:"status"===c.type?(0,b.jsxs)(n.DropdownMenu,{children:[(0,b.jsx)(n.DropdownMenuTrigger,{className:"focus:outline-none w-full text-left",children:(0,b.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium cursor-pointer ${"new"===d?"bg-blue-100 text-blue-800 hover:bg-blue-200":"contacted"===d?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"qualified"===d?"bg-green-100 text-green-800 hover:bg-green-200":"lost"===d?"bg-red-100 text-red-800 hover:bg-red-200":"bg-purple-100 text-purple-800 hover:bg-purple-200"}`,children:[String(d).charAt(0).toUpperCase()+String(d).slice(1),(0,b.jsx)(i.ChevronDown,{className:"ml-1 h-3 w-3"})]})}),(0,b.jsxs)(n.DropdownMenuContent,{align:"start",className:"w-48",children:[Y.map(d=>(0,b.jsxs)("div",{className:"flex items-center group",children:[(0,b.jsx)(n.DropdownMenuItem,{onSelect:b=>{b.preventDefault(),T(a.id,c.accessor,d)},className:"flex-1 cursor-pointer",children:(0,b.jsx)("span",{className:"capitalize",children:d})}),"new"!==d&&(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),"new"!==d&&(N.includes(d)&&O(a=>a.filter(a=>a!==d)),A(z.map(a=>a.status===d?{...a,status:"new"}:a)))},className:"mr-2 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",title:"Remove status",children:(0,b.jsx)(k.X,{className:"h-3.5 w-3.5"})})]},d)),(0,b.jsx)("div",{className:"border-t border-gray-100 my-1"}),R?(0,b.jsxs)("div",{className:"px-2 py-1 flex items-center gap-1",children:[(0,b.jsx)("input",{type:"text",value:P,onChange:a=>Q(a.target.value),onKeyDown:a=>{"Enter"===a.key?X():"Escape"===a.key&&(S(!1),Q(""))},className:"text-sm px-2 py-1 border rounded flex-1 min-w-0",placeholder:"New status",autoFocus:!0}),(0,b.jsx)("button",{onClick:X,className:"text-green-600 hover:text-green-800 p-1",title:"Add status",children:(0,b.jsx)(j.Plus,{className:"h-4 w-4"})})]}):(0,b.jsxs)(n.DropdownMenuItem,{onSelect:a=>{a.preventDefault(),S(!0)},className:"text-blue-600 hover:bg-blue-50 cursor-pointer",children:[(0,b.jsx)(j.Plus,{className:"h-3.5 w-3.5 mr-1"}),"Add Status"]})]})]}):"tags"===c.type?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-1 w-full max-w-[200px] min-h-[32px]",children:[(Array.isArray(d)?d:[]).map((c,d)=>H?.leadId===a.id&&H.tagIndex===d?(0,b.jsx)("input",{type:"text",className:"text-xs px-2 py-0.5 rounded border border-blue-300 focus:ring-1 focus:ring-blue-500 focus:outline-none w-24",value:H.value,onChange:a=>I({...H,value:a.target.value}),onKeyDown:b=>{"Enter"===b.key?W(a.id,d,H.value):"Escape"===b.key&&I(null)},onBlur:()=>W(a.id,d,H.value),autoFocus:!0},d):(0,b.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 text-xs rounded-full bg-blue-50 text-blue-700 border border-blue-100 group truncate",children:[(0,b.jsx)("span",{className:"cursor-text",onClick:()=>I({leadId:a.id,tagIndex:d,value:c}),children:c}),(0,b.jsx)("button",{onClick:b=>{var c;b.stopPropagation(),c=a.id,A(z.map(a=>{if(a.id===c){let b=[...a.tags];return b.splice(d,1),{...a,tags:b}}return a}))},className:"opacity-0 group-hover:opacity-100 text-blue-400 hover:text-red-500 ml-1",title:"Remove tag",children:(0,b.jsx)(k.X,{className:"h-3 w-3"})})]},`${a.id}-${d}`)),J[a.id]?(0,b.jsx)("div",{className:"col-span-2 flex items-center gap-1",children:(0,b.jsx)("input",{type:"text",className:"text-xs px-2 py-0.5 rounded border border-dashed border-blue-300 focus:border-blue-300 focus:ring-1 focus:ring-blue-200 focus:outline-none w-24",placeholder:"Add tag",value:L[a.id]||"",onChange:b=>M(c=>({...c,[a.id]:b.target.value})),onKeyDown:b=>{"Enter"===b.key?U(a.id):"Escape"===b.key&&V(a.id)},onBlur:()=>{(L[a.id]||"").trim()?U(a.id):V(a.id)},onClick:a=>a.stopPropagation(),autoFocus:!0})}):(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),V(a.id)},className:"flex items-center justify-center w-5 h-5 rounded-full border border-dashed border-gray-300 text-gray-400 hover:border-blue-300 hover:text-blue-500",title:"Add tag",children:(0,b.jsx)(j.Plus,{className:"h-3 w-3"})})]}):"date"===c.type?(0,b.jsx)("div",{className:"whitespace-nowrap",children:d?(0,o.format)(new Date(d),"MMM d, yyyy"):""}):(0,b.jsx)("input",{type:"text",className:"w-full p-1 border border-transparent rounded hover:border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none",value:d||"",onChange:b=>T(a.id,c.accessor,b.target.value),onClick:a=>a.stopPropagation()})},`${a.id}-${c.id}`)}),(0,b.jsx)(f.TableCell,{className:"px-2 py-3",children:(0,b.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this row?")&&A(z.filter(b=>b.id!==a.id))},className:"text-gray-400 hover:text-red-500",title:"Delete row",children:(0,b.jsx)(l.Trash2,{className:"h-4 w-4"})})})]},a.id)):(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:B.length+1,className:"px-6 py-8 text-center text-sm text-gray-500",children:'No leads found. Click "Add Row" to create a new one.'})})})]})})]})]})}a.s(["default",()=>x],74550)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6c6cbfaa._.js.map