module.exports=[87046,a=>{"use strict";var b=a.i(43112),c=a.i(85390),d=a.i(67198),e=a.i(65274),f=a.i(36249);let g=(0,f.default)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var h=a.i(86619),i=a.i(57174),j=a.i(32478),k=a.i(22201);let l=(0,f.default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var m=a.i(35111),n=a.i(66727);let o=(0,f.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),p=(0,f.default)("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);var q=a.i(12792),r=a.i(18396),s=a.i(82948),t=a.i(56729),u=a.i(21302),v=a.i(75241);a.i(35203);var w=a.i(32550),x=a.i(66678),y=a.i(9620),z=a.i(98932);a.s(["default",0,()=>{let[a,f]=(0,c.useState)([]),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)("grid"),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(null),{toast:Q}=(0,w.useToast)();(0,c.useEffect)(()=>{let a=localStorage.getItem("providerDriveFiles");if(a)f(JSON.parse(a));else{let a=[{id:"1",name:"Certificates",type:"folder",uploadedAt:new Date().toISOString(),parentId:null},{id:"2",name:"Service Photos",type:"folder",uploadedAt:new Date().toISOString(),parentId:null},{id:"3",name:"Documents",type:"folder",uploadedAt:new Date().toISOString(),parentId:null}];f(a),localStorage.setItem("providerDriveFiles",JSON.stringify(a))}},[]),(0,c.useEffect)(()=>{a.length>0&&localStorage.setItem("providerDriveFiles",JSON.stringify(a))},[a]);let R=a=>{if("folder"===a.type)return(0,b.jsx)(e.FolderOpen,{className:"h-8 w-8 text-blue-500"});if("image"===a.fileType&&a.url)return(0,b.jsx)("div",{className:"w-full h-24 rounded-md overflow-hidden bg-muted flex items-center justify-center",children:(0,b.jsx)("img",{src:a.url,alt:a.name,className:"w-full h-full object-cover"})});switch(a.fileType){case"document":return(0,b.jsx)(n.FileText,{className:"h-8 w-8 text-orange-500"});case"image":return(0,b.jsx)(o,{className:"h-8 w-8 text-green-500"});case"video":return(0,b.jsx)(p,{className:"h-8 w-8 text-purple-500"});default:return(0,b.jsx)(g,{className:"h-8 w-8 text-gray-500"})}},S=a=>a<1024?a+" B":a<1048576?(a/1024).toFixed(2)+" KB":(a/1048576).toFixed(2)+" MB",T=(b,c)=>{f(a.filter(a=>a.id!==b)),Q({title:"Deleted",description:`"${c}" has been deleted`})},U=a=>{if(a.url){let b=document.createElement("a");b.href=a.url,b.download=a.name,b.click(),Q({title:"Download Started",description:`Downloading "${a.name}"`})}},V=a=>{"folder"===a.type?(N(a.id),B("")):"image"===a.fileType&&P(a)},W=a=>{N(a),B("")},X=a.filter(a=>{let b=a.parentId===M,c=a.name.toLowerCase().includes(A.toLowerCase());return b&&c}),Y=(()=>{let b=[],c=M;for(;c;){let d=a.find(a=>a.id===c);if(d)b.unshift(d),c=d.parentId||null;else break}return b})(),Z={totalFiles:a.filter(a=>"file"===a.type).length,totalFolders:a.filter(a=>"folder"===a.type).length,totalSize:a.filter(a=>a.size).reduce((a,b)=>{let c=b.size||"0 KB",d=parseFloat(c),e=c.split(" ")[1];return"MB"===e?a+d:"KB"===e?a+d/1024:a},0).toFixed(2)};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Drive"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Store and manage your files and documents"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center",children:(0,b.jsx)(g,{className:"h-6 w-6 text-blue-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:Z.totalFiles}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Files"})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg bg-orange-500/10 flex items-center justify-center",children:(0,b.jsx)(e.FolderOpen,{className:"h-6 w-6 text-orange-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:Z.totalFolders}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Folders"})]})]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center",children:(0,b.jsx)(h.Upload,{className:"h-6 w-6 text-green-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[Z.totalSize," MB"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Storage Used"})]})]})})})]}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsxs)("button",{onClick:()=>W(null),className:"flex items-center gap-1 hover:text-primary transition-colors",children:[(0,b.jsx)(t.Home,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"My Drive"})]}),Y.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.ChevronRight,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("button",{onClick:()=>W(a.id),className:"hover:text-primary transition-colors",children:a.name})]},a.id))]})})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(v.Input,{placeholder:"Search files and folders...",value:A,onChange:a=>B(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(u.Button,{onClick:()=>F(!0),children:[(0,b.jsx)(h.Upload,{className:"h-4 w-4 mr-2"}),"Upload File"]}),(0,b.jsxs)(u.Button,{variant:"outline",onClick:()=>H(!0),children:[(0,b.jsx)(r.Plus,{className:"h-4 w-4 mr-2"}),"New Folder"]}),(0,b.jsxs)("div",{className:"flex border rounded-lg",children:[(0,b.jsx)(u.Button,{variant:"grid"===C?"secondary":"ghost",size:"sm",onClick:()=>D("grid"),className:"rounded-r-none",children:(0,b.jsx)(l,{className:"h-4 w-4"})}),(0,b.jsx)(u.Button,{variant:"list"===C?"secondary":"ghost",size:"sm",onClick:()=>D("list"),className:"rounded-l-none",children:(0,b.jsx)(m.List,{className:"h-4 w-4"})})]})]})]})})}),0===X.length?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(e.FolderOpen,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No files found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:A?"Try a different search term":"Upload your first file to get started"}),!A&&(0,b.jsxs)(u.Button,{onClick:()=>F(!0),children:[(0,b.jsx)(h.Upload,{className:"h-4 w-4 mr-2"}),"Upload File"]})]})}):"grid"===C?(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:X.map(a=>(0,b.jsx)(d.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>V(a),children:(0,b.jsxs)(d.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("div",{className:"flex-1",children:R(a)}),(0,b.jsxs)(y.DropdownMenu,{children:[(0,b.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,b.jsx)(q.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(y.DropdownMenuContent,{align:"end",onClick:a=>a.stopPropagation(),children:["file"===a.type&&(0,b.jsxs)(y.DropdownMenuItem,{onClick:b=>{b.stopPropagation(),U(a)},children:[(0,b.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"Download"]}),(0,b.jsxs)(y.DropdownMenuItem,{onClick:b=>{b.stopPropagation(),T(a.id,a.name)},className:"text-red-600",children:[(0,b.jsx)(j.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm truncate mb-1",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:"folder"===a.type?"Folder":a.size}),(0,b.jsx)("span",{children:new Date(a.uploadedAt).toLocaleDateString()})]})]})]})},a.id))}):(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"divide-y",children:X.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>V(a),children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:R(a)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["folder"===a.type?"Folder":a.size," • ",new Date(a.uploadedAt).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["file"===a.type&&(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),U(a)},children:(0,b.jsx)(i.Download,{className:"h-4 w-4"})}),(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),T(a.id,a.name)},className:"text-red-600 hover:text-red-700",children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4"})})]})]},a.id))})})}),(0,b.jsx)(x.Dialog,{open:E,onOpenChange:F,children:(0,b.jsxs)(x.DialogContent,{children:[(0,b.jsxs)(x.DialogHeader,{children:[(0,b.jsx)(x.DialogTitle,{children:"Upload File"}),(0,b.jsx)(x.DialogDescription,{children:M?`Upload file to "${Y[Y.length-1]?.name}"`:"Upload file to My Drive"})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(z.Label,{htmlFor:"file-upload",children:"Choose File"}),(0,b.jsx)(v.Input,{id:"file-upload",type:"file",onChange:a=>L(a.target.files?.[0]||null),className:"mt-2"}),K&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",K.name," (",S(K.size),")"]})]})}),(0,b.jsxs)(x.DialogFooter,{children:[(0,b.jsx)(u.Button,{variant:"outline",onClick:()=>{F(!1),L(null)},children:"Cancel"}),(0,b.jsxs)(u.Button,{onClick:()=>{var b;let c;K?(f([...a,{id:Date.now().toString(),name:K.name,type:"file",fileType:(b=K.name,["jpg","jpeg","png","gif","webp","svg"].includes((c=b.split(".").pop()?.toLowerCase())||"")?"image":["mp4","avi","mov","wmv"].includes(c||"")?"video":["pdf","doc","docx","txt","xls","xlsx"].includes(c||"")?"document":"other"),size:S(K.size),uploadedAt:new Date().toISOString(),url:URL.createObjectURL(K),parentId:M}]),L(null),F(!1),Q({title:"File Uploaded",description:`"${K.name}" has been uploaded successfully`})):Q({title:"Error",description:"Please select a file to upload",variant:"destructive"})},children:[(0,b.jsx)(h.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})}),(0,b.jsx)(x.Dialog,{open:G,onOpenChange:H,children:(0,b.jsxs)(x.DialogContent,{children:[(0,b.jsxs)(x.DialogHeader,{children:[(0,b.jsx)(x.DialogTitle,{children:"Create New Folder"}),(0,b.jsx)(x.DialogDescription,{children:M?`Create folder in "${Y[Y.length-1]?.name}"`:"Create folder in My Drive"})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(z.Label,{htmlFor:"folder-name",children:"Folder Name"}),(0,b.jsx)(v.Input,{id:"folder-name",placeholder:"Enter folder name...",value:I,onChange:a=>J(a.target.value),className:"mt-2"})]})}),(0,b.jsxs)(x.DialogFooter,{children:[(0,b.jsx)(u.Button,{variant:"outline",onClick:()=>{H(!1),J("")},children:"Cancel"}),(0,b.jsxs)(u.Button,{onClick:()=>{I.trim()?(f([...a,{id:Date.now().toString(),name:I,type:"folder",uploadedAt:new Date().toISOString(),parentId:M}]),J(""),H(!1),Q({title:"Folder Created",description:`"${I}" has been created successfully`})):Q({title:"Error",description:"Please enter a folder name",variant:"destructive"})},children:[(0,b.jsx)(r.Plus,{className:"h-4 w-4 mr-2"}),"Create Folder"]})]})]})}),(0,b.jsx)(x.Dialog,{open:!!O,onOpenChange:()=>P(null),children:(0,b.jsxs)(x.DialogContent,{className:"max-w-4xl",children:[(0,b.jsxs)(x.DialogHeader,{children:[(0,b.jsx)(x.DialogTitle,{children:O?.name}),(0,b.jsxs)(x.DialogDescription,{children:[O?.size," • Uploaded on ",O&&new Date(O.uploadedAt).toLocaleDateString()]})]}),O?.url&&(0,b.jsx)("div",{className:"w-full max-h-[70vh] overflow-auto rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)("img",{src:O.url,alt:O.name,className:"max-w-full h-auto"})}),(0,b.jsxs)(x.DialogFooter,{children:[(0,b.jsx)(u.Button,{variant:"outline",onClick:()=>P(null),children:"Close"}),O&&(0,b.jsxs)(u.Button,{onClick:()=>U(O),children:[(0,b.jsx)(i.Download,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}],87046)}];

//# sourceMappingURL=OneDrive_Desktop_Premier-pro_src_app_provider_drive_page_tsx_9ac0746b._.js.map