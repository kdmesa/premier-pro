{"version":3,"sources":["../../../../../../../OneDrive/Desktop/Premier-pro/src/app/admin/customers/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useToast } from \"@/components/ui/use-toast\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport Link from \"next/link\";\r\nimport { UserMinus, ShieldBan, AlertCircle, BellOff, ChevronLeft, ChevronRight as ChevronRightIcon, Calendar as CalendarIcon, Search as SearchIcon, User as UserIcon, UserCheck, ShieldCheck, BellRing } from \"lucide-react\";\r\n\r\nconst CUSTOMERS_STORAGE_KEY = \"adminCustomers\";\r\n\r\ntype Customer = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  address?: string;\r\n  joinDate?: string;\r\n  totalBookings?: number;\r\n  totalSpent?: string;\r\n  status?: string;\r\n  lastBooking?: string;\r\n};\r\n\r\nexport default function CustomerProfilePage() {\r\n  const params = useParams<{ id: string }>();\r\n  const router = useRouter();\r\n  const [customer, setCustomer] = useState<Customer | null>(null);\r\n  const [ratingForm, setRatingForm] = useState({ provider: \"\", score: 5, comment: \"\" });\r\n  const id = params?.id;\r\n  const BOOKINGS_STORAGE_KEY = \"adminBookings\";\r\n  const CUSTOMER_EXTRAS_KEY = \"adminCustomerExtras\"; // map of id -> extras\r\n  const { toast } = useToast();\r\n  type Booking = {\r\n    id: string;\r\n    customer: { name: string; email: string; phone?: string };\r\n    service: string;\r\n    date: string; // YYYY-MM-DD\r\n    time: string;\r\n    address?: string;\r\n    status: string;\r\n    amount?: string;\r\n    provider?: { id?: string; name: string } | null;\r\n  };\r\n  const [allBookings, setAllBookings] = useState<Booking[]>([]);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [providerSearch, setProviderSearch] = useState(\"\");\r\n  const [calView, setCalView] = useState<\"month\" | \"week\" | \"day\">(\"month\");\r\n  const [profile, setProfile] = useState({\r\n    company: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    gender: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    address: \"\",\r\n    notes: \"\",\r\n    smsReminders: false,\r\n  });\r\n  const [contacts, setContacts] = useState<{ name: string; email: string; phone: string }[]>([]);\r\n  const [showAddContact, setShowAddContact] = useState(false);\r\n  const [showContactsList, setShowContactsList] = useState(false);\r\n  const [newContact, setNewContact] = useState({ name: \"\", email: \"\", phone: \"\" });\r\n  const [buttonStates, setButtonStates] = useState({\r\n    isActive: true,\r\n    isBlocked: false,\r\n    isBookingBlocked: false,\r\n    isSubscribed: true\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    if (typeof window === \"undefined\") return;\r\n    try {\r\n      const stored = localStorage.getItem(CUSTOMERS_STORAGE_KEY);\r\n      if (stored) {\r\n        const list: Customer[] = JSON.parse(stored);\r\n        const found = list.find((c) => String(c.id) === String(id));\r\n        if (found) setCustomer(found);\r\n      }\r\n      const storedBookings = localStorage.getItem(BOOKINGS_STORAGE_KEY);\r\n      if (storedBookings) {\r\n        setAllBookings(JSON.parse(storedBookings) as Booking[]);\r\n      }\r\n      // load extras\r\n      const extrasRaw = localStorage.getItem(CUSTOMER_EXTRAS_KEY);\r\n      if (extrasRaw && typeof id === 'string') {\r\n        const map = JSON.parse(extrasRaw) as Record<string, any>;\r\n        const ex = map[id];\r\n        if (ex) {\r\n          setProfile((p)=>({\r\n            ...p,\r\n            company: ex.company || \"\",\r\n            gender: ex.gender || \"unspecified\",\r\n            notes: ex.notes || \"\",\r\n            smsReminders: !!ex.smsReminders,\r\n          }));\r\n          if (Array.isArray(ex.contacts)) {\r\n            setContacts(ex.contacts as {name:string;email:string;phone:string}[]);\r\n          }\r\n        }\r\n      }\r\n    } catch {}\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (!customer) return;\r\n    const parts = customer.name?.split(\" \") ?? [];\r\n    setProfile((p) => ({\r\n      ...p,\r\n      company: \"\",\r\n      firstName: parts[0] || \"\",\r\n      lastName: parts.slice(1).join(\" \") || \"\",\r\n      email: customer.email || \"\",\r\n      phone: customer.phone || \"\",\r\n      address: customer.address || \"\",\r\n    }));\r\n  }, [customer]);\r\n\r\n  const saveProfile = () => {\r\n    if (!customer) return;\r\n    try {\r\n      const stored = typeof window !== 'undefined' ? localStorage.getItem(CUSTOMERS_STORAGE_KEY) : null;\r\n      if (stored) {\r\n        const list: Customer[] = JSON.parse(stored);\r\n        const updated = list.map((c) =>\r\n          String(c.id) === String(customer.id)\r\n            ? { ...c, name: `${profile.firstName} ${profile.lastName}`.trim(), email: profile.email, phone: profile.phone, address: profile.address }\r\n            : c\r\n        );\r\n        localStorage.setItem(CUSTOMERS_STORAGE_KEY, JSON.stringify(updated));\r\n        const newCustomer = updated.find((c) => String(c.id) === String(customer.id)) || customer;\r\n        setCustomer(newCustomer);\r\n        // save extras\r\n        const extrasRaw = localStorage.getItem(CUSTOMER_EXTRAS_KEY);\r\n        const map = extrasRaw ? (JSON.parse(extrasRaw) as Record<string, any>) : {};\r\n        map[String(customer.id)] = {\r\n          company: profile.company,\r\n          gender: profile.gender,\r\n          notes: profile.notes,\r\n          smsReminders: profile.smsReminders,\r\n          contacts,\r\n        };\r\n        localStorage.setItem(CUSTOMER_EXTRAS_KEY, JSON.stringify(map));\r\n        toast({ title: \"Profile Saved\", description: \"Customer details have been updated.\" });\r\n      }\r\n    } catch {}\r\n  };\r\n\r\n  const persistExtras = (next: Partial<{contacts:any}>) => {\r\n    if (!customer) return;\r\n    const extrasRaw = localStorage.getItem(CUSTOMER_EXTRAS_KEY);\r\n    const map = extrasRaw ? (JSON.parse(extrasRaw) as Record<string, any>) : {};\r\n    const current = map[String(customer.id)] || {};\r\n    map[String(customer.id)] = { ...current, ...next };\r\n    localStorage.setItem(CUSTOMER_EXTRAS_KEY, JSON.stringify(map));\r\n  };\r\n\r\n  const addContact = () => {\r\n    if (!newContact.name || !newContact.email) {\r\n      toast({ title: \"Missing info\", description: \"Please enter at least name and email.\", });\r\n      return;\r\n    }\r\n    const next = [...contacts, { ...newContact }];\r\n    setContacts(next);\r\n    persistExtras({ contacts: next });\r\n    setNewContact({ name: \"\", email: \"\", phone: \"\" });\r\n    setShowAddContact(false);\r\n    toast({ title: \"Contact added\" });\r\n  };\r\n\r\n  const removeContact = (index: number) => {\r\n    const next = contacts.filter((_, i) => i !== index);\r\n    setContacts(next);\r\n    persistExtras({ contacts: next });\r\n    toast({ title: \"Contact removed\" });\r\n  };\r\n\r\n  const initials = useMemo(() => {\r\n    if (!customer?.name) return \"?\";\r\n    const parts = customer.name.split(\" \");\r\n    return parts.slice(0, 2).map((p) => p[0]?.toUpperCase()).join(\"\");\r\n  }, [customer]);\r\n\r\n  const submitRating = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Placeholder: persist ratings as needed\r\n    alert(`Rating saved for ${ratingForm.provider || \"provider\"}: ${ratingForm.score}/5`);\r\n    setRatingForm({ provider: \"\", score: 5, comment: \"\" });\r\n  };\r\n\r\n  if (!customer) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <div className=\"text-sm text-muted-foreground\">Loading customer...</div>\r\n        <Button variant=\"outline\" onClick={() => router.push(\"/admin/customers\")}>Back to Customers</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Link href=\"/admin/customers\" aria-label=\"Back to Customers\" className=\"inline-flex items-center justify-center h-8 w-8 rounded-md hover:bg-muted\">\r\n              <ChevronLeft className=\"h-5 w-5\" />\r\n            </Link>\r\n            <h2 className=\"text-xl font-semibold\">{customer.name}</h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <Link href={`/admin/add-booking?customerId=${encodeURIComponent(String(customer.id))}`}>\r\n            <Button\r\n              className=\"text-white\"\r\n              style={{ background: \"linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)\" }}\r\n            >\r\n              New Booking\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardContent className=\"pt-6\">\r\n          <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-6\">\r\n            {/* Left: Profile info */}\r\n            <div className=\"flex items-start gap-4 flex-1\">\r\n              <div className=\"h-24 w-24 md:h-28 md:w-28 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center font-semibold text-xl md:text-2xl\">\r\n                {initials}\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <div className=\"text-sm\">\r\n                  <span className=\"font-medium\">Email:</span>{\" \"}\r\n                  <a href={`mailto:${customer.email}`} className=\"text-cyan-700 hover:underline\">\r\n                    {customer.email}\r\n                  </a>\r\n                </div>\r\n                <div className=\"text-sm\"><span className=\"font-medium\">Phone:</span> {customer.phone}</div>\r\n                {customer.address && <div className=\"text-sm\"><span className=\"font-medium\">Address:</span> {customer.address}</div>}\r\n                <div className=\"text-sm\"><span className=\"font-medium\">Status:</span> <Badge variant=\"secondary\">{customer.status || \"active\"}</Badge></div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right: Action buttons column */}\r\n            <div className=\"w-full md:w-auto\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"relative group\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    className={`h-10 w-10 rounded-full ${buttonStates.isActive ? 'bg-slate-200 hover:bg-slate-300' : 'bg-green-100 hover:bg-green-200'} text-slate-800 dark:bg-slate-800/60 dark:text-slate-200`}\r\n                    onClick={() => setButtonStates(prev => ({\r\n                      ...prev,\r\n                      isActive: !prev.isActive\r\n                    }))}\r\n                  >\r\n                    {buttonStates.isActive ? (\r\n                      <UserMinus className=\"h-5 w-5\" />\r\n                    ) : (\r\n                      <UserCheck className=\"h-5 w-5\" />\r\n                    )}\r\n                  </Button>\r\n                  <div className=\"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\r\n                    {buttonStates.isActive ? 'Deactivate' : 'Activate'}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"relative group\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    className={`h-10 w-10 rounded-full ${buttonStates.isBlocked ? 'bg-red-100 hover:bg-red-200' : 'bg-amber-100 hover:bg-amber-200'} text-amber-800 dark:bg-amber-900/20 dark:text-amber-300`}\r\n                    onClick={() => setButtonStates(prev => ({\r\n                      ...prev,\r\n                      isBlocked: !prev.isBlocked\r\n                    }))}\r\n                  >\r\n                    {buttonStates.isBlocked ? (\r\n                      <ShieldCheck className=\"h-5 w-5\" />\r\n                    ) : (\r\n                      <ShieldBan className=\"h-5 w-5\" />\r\n                    )}\r\n                  </Button>\r\n                  <div className=\"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\r\n                    {buttonStates.isBlocked ? 'Unblock Access' : 'Block Access'}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"relative group\">\r\n                  <Button\r\n                    variant={buttonStates.isBookingBlocked ? 'default' : 'outline'}\r\n                    size=\"icon\"\r\n                    className={`h-10 w-10 rounded-full ${buttonStates.isBookingBlocked ? 'bg-red-500 hover:bg-red-600' : 'bg-slate-200 hover:bg-slate-300'} text-white`}\r\n                    onClick={() => setButtonStates(prev => ({\r\n                      ...prev,\r\n                      isBookingBlocked: !prev.isBookingBlocked\r\n                    }))}\r\n                  >\r\n                    <AlertCircle className=\"h-5 w-5\" />\r\n                  </Button>\r\n                  <div className=\"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\r\n                    {buttonStates.isBookingBlocked ? 'Unblock Booking' : 'Block Booking'}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"relative group\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    className={`h-10 w-10 rounded-full ${!buttonStates.isSubscribed ? 'bg-blue-100 hover:bg-blue-200' : 'bg-slate-200 hover:bg-slate-300'} text-slate-800 dark:bg-slate-800/60 dark:text-slate-200`}\r\n                    onClick={() => setButtonStates(prev => ({\r\n                      ...prev,\r\n                      isSubscribed: !prev.isSubscribed\r\n                    }))}\r\n                  >\r\n                    {buttonStates.isSubscribed ? (\r\n                      <BellOff className=\"h-5 w-5\" />\r\n                    ) : (\r\n                      <BellRing className=\"h-5 w-5\" />\r\n                    )}\r\n                  </Button>\r\n                  <div className=\"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-2 py-1 text-xs bg-gray-800 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\r\n                    {buttonStates.isSubscribed ? 'Unsubscribe' : 'Subscribe'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      \r\n\r\n      <Tabs defaultValue=\"dashboard\" className=\"w-full\">\r\n        <TabsList className=\"w-full justify-start gap-2 bg-muted/40 p-0 h-auto rounded-none border-b border-slate-200\">\r\n          <TabsTrigger value=\"dashboard\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            Dashboard\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"profile\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            Profile\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"gift\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            Gift cards\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"referrals\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            Referrals\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"drive\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            My drive\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"invoices\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            Invoices\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"notifications\" className=\"rounded-none px-3 py-3 text-slate-600 data-[state=active]:font-semibold data-[state=active]:text-slate-900 data-[state=active]:border-b-2 data-[state=active]:border-cyan-600\">\r\n            Notifications\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"dashboard\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n            <Card className=\"lg:col-span-2\">\r\n              <CardHeader>\r\n                <div className=\"grid grid-cols-3 items-center\">\r\n                  <div className=\"flex items-center gap-2 justify-start\">\r\n                    <Button variant={calView === \"month\" ? \"default\" : \"outline\"} size=\"sm\" onClick={() => setCalView(\"month\")} className={calView === \"month\" ? \"text-white\" : \"\"} style={calView === \"month\" ? { background: 'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)' } : {}}>Month</Button>\r\n                    <Button variant={calView === \"week\" ? \"default\" : \"outline\"} size=\"sm\" onClick={() => setCalView(\"week\")} className={calView === \"week\" ? \"text-white\" : \"\"} style={calView === \"week\" ? { background: 'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)' } : {}}>Week</Button>\r\n                    <Button variant={calView === \"day\" ? \"default\" : \"outline\"} size=\"sm\" onClick={() => setCalView(\"day\")} className={calView === \"day\" ? \"text-white\" : \"\"} style={calView === \"day\" ? { background: 'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)' } : {}}>Day</Button>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <CardTitle className=\"text-center\">\r\n                      {calView === \"month\" && new Intl.DateTimeFormat(undefined, { month: \"long\", year: \"numeric\" }).format(currentDate)}\r\n                      {calView === \"week\" && (() => {\r\n                        const d = new Date(currentDate);\r\n                        const sunday = new Date(d);\r\n                        sunday.setDate(d.getDate() - d.getDay());\r\n                        return `Week of ${new Intl.DateTimeFormat(undefined, { month: 'short', day: 'numeric', year: 'numeric' }).format(sunday)}`;\r\n                      })()}\r\n                      {calView === \"day\" && new Intl.DateTimeFormat(undefined, { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' }).format(currentDate)}\r\n                    </CardTitle>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 justify-end\">\r\n                    <Button variant=\"outline\" size=\"icon\" onClick={() => setCurrentDate(new Date())} title=\"Today\">\r\n                      <CalendarIcon className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      onClick={() => setCurrentDate(d => calView === 'month' ? new Date(d.getFullYear(), d.getMonth()-1, 1) : calView === 'week' ? new Date(d.getFullYear(), d.getMonth(), d.getDate()-7) : new Date(d.getFullYear(), d.getMonth(), d.getDate()-1))}\r\n                      aria-label=\"Previous\"\r\n                    >\r\n                      <ChevronLeft className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      onClick={() => setCurrentDate(d => calView === 'month' ? new Date(d.getFullYear(), d.getMonth()+1, 1) : calView === 'week' ? new Date(d.getFullYear(), d.getMonth(), d.getDate()+7) : new Date(d.getFullYear(), d.getMonth(), d.getDate()+1))}\r\n                      aria-label=\"Next\"\r\n                    >\r\n                      <ChevronRightIcon className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {(() => {\r\n                  const date = currentDate;\r\n                  const year = date.getFullYear();\r\n                  const month = date.getMonth();\r\n                  const first = new Date(year, month, 1);\r\n                  const last = new Date(year, month + 1, 0);\r\n                  const days = last.getDate();\r\n                  const startEmpty = first.getDay();\r\n                  const format = (y:number,m:number,day:number) => `${y}-${String(m+1).padStart(2,'0')}-${String(day).padStart(2,'0')}`;\r\n                  const myBookings = allBookings.filter(b => b.customer?.email === customer.email || b.customer?.name === customer.name);\r\n                  const dayNames = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\r\n                  if (calView === 'month') {\r\n                    return (\r\n                      <div className=\"grid grid-cols-7 gap-2\">\r\n                        {dayNames.map(d => (\r\n                          <div key={d} className=\"text-center font-semibold text-sm text-muted-foreground py-2\">{d}</div>\r\n                        ))}\r\n                        {Array.from({length: startEmpty}).map((_,i)=>(<div key={`empty-${i}`} className=\"aspect-square\" />))}\r\n                        {Array.from({length: days}).map((_,i)=>{\r\n                          const day=i+1; const key=format(year,month,day);\r\n                          const items=myBookings.filter(b=>b.date===key);\r\n                          const today=new Date(); const isToday=today.getDate()===day && today.getMonth()===month && today.getFullYear()===year;\r\n                          return (\r\n                            <div key={key} className={`aspect-square border rounded-lg p-2 ${isToday? 'border-cyan-500 bg-cyan-50 dark:bg-cyan-950/20':'border-border'}`}>\r\n                              <div className=\"flex flex-col h-full\">\r\n                                <div className={`text-sm font-medium mb-1 ${isToday?'text-cyan-600 dark:text-cyan-400':''}`}>{day}</div>\r\n                                <div className=\"flex-1 space-y-1 overflow-y-auto\">\r\n                                  {items.slice(0,3).map(b=> (\r\n                                    <div key={b.id} className=\"text-xs p-1 rounded text-white\" style={{background:'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)'}}>\r\n                                      <div className=\"truncate font-medium\">{b.time}</div>\r\n                                      <div className=\"truncate\">{b.service}</div>\r\n                                    </div>\r\n                                  ))}\r\n                                  {items.length>3 && (\r\n                                    <div className=\"text-xs text-muted-foreground text-center\">+{items.length-3} more</div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  if (calView === 'week') {\r\n                    const d = new Date(currentDate);\r\n                    const sunday = new Date(d);\r\n                    sunday.setDate(d.getDate() - d.getDay());\r\n                    const daysArr = Array.from({length:7}).map((_,i)=>{\r\n                      const dayDate = new Date(sunday);\r\n                      dayDate.setDate(sunday.getDate()+i);\r\n                      const key = format(dayDate.getFullYear(), dayDate.getMonth(), dayDate.getDate());\r\n                      return { label: dayNames[i], num: dayDate.getDate(), key, isToday: (new Date()).toDateString()===dayDate.toDateString() };\r\n                    });\r\n                    return (\r\n                      <div className=\"grid grid-cols-7 gap-2\">\r\n                        {daysArr.map(({label,num,key,isToday})=>{\r\n                          const items=myBookings.filter(b=>b.date===key);\r\n                          return (\r\n                            <div key={key} className={`min-h-[140px] border rounded-lg p-2 ${isToday? 'border-cyan-500 bg-cyan-50 dark:bg-cyan-950/20':'border-border'}`}>\r\n                              <div className=\"text-sm font-medium mb-1\">\r\n                                <span className=\"text-muted-foreground mr-1\">{label}</span>{num}\r\n                              </div>\r\n                              <div className=\"space-y-1\">\r\n                                {items.length===0 && <div className=\"text-xs text-muted-foreground\">No bookings</div>}\r\n                                {items.map(b=> (\r\n                                  <div key={b.id} className=\"text-xs p-1 rounded text-white\" style={{background:'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)'}}>\r\n                                    <div className=\"truncate font-medium\">{b.time}</div>\r\n                                    <div className=\"truncate\">{b.service}</div>\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    );\r\n                  }\r\n                  // Day view\r\n                  const key = format(year, month, date.getDate());\r\n                  const items = myBookings.filter(b=>b.date===key);\r\n                  return (\r\n                    <div className=\"space-y-2\">\r\n                      <div className=\"text-sm text-muted-foreground\">{items.length} booking(s) on this day</div>\r\n                      {items.length===0 && <div className=\"text-sm text-muted-foreground\">No bookings scheduled.</div>}\r\n                      {items.map(b => (\r\n                        <div key={b.id} className=\"p-3 rounded-md border\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div className=\"font-medium\">{b.service}</div>\r\n                            <div className=\"text-sm\">{b.time}</div>\r\n                          </div>\r\n                          {b.provider?.name && <div className=\"text-xs text-muted-foreground mt-1\">Provider: {b.provider.name}</div>}\r\n                          {b.address && <div className=\"text-xs text-muted-foreground\">{b.address}</div>}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  );\r\n                })()}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Providers</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"relative\">\r\n                  <SearchIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                  <Input placeholder=\"Search by name\" className=\"pl-10\" value={providerSearch} onChange={(e)=>setProviderSearch(e.target.value)} />\r\n                </div>\r\n                {(() => {\r\n                  const myBookings = allBookings.filter(b => b.customer?.email === customer.email || b.customer?.name === customer.name);\r\n                  const providers = Array.from(new Map(myBookings.filter(b=>b.provider?.name).map(b=>[b.provider!.name, b.provider])).values()) as NonNullable<Booking['provider']>[];\r\n                  const filtered = providers.filter(p => p.name.toLowerCase().includes(providerSearch.toLowerCase()))\r\n                  if (filtered.length===0) return <div className=\"text-sm text-muted-foreground\">No assigned providers.</div>;\r\n                  return (\r\n                    <div className=\"space-y-2\">\r\n                      {filtered.map((p)=> (\r\n                        <div key={p.name} className=\"flex items-center gap-3 p-2 rounded-md border\">\r\n                          <div className=\"h-8 w-8 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center\">\r\n                            <UserIcon className=\"h-4 w-4\" />\r\n                          </div>\r\n                          <div className=\"text-sm font-medium\">{p.name}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  );\r\n                })()}\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"profile\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Profile</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              <div className=\"grid grid-cols-1 gap-6\">\r\n                {/* Left: avatar + fields */}\r\n                <div className=\"lg:col-span-2 space-y-6\">\r\n                  <div className=\"flex items-start gap-6\">\r\n                    <div className=\"h-28 w-28 rounded-full bg-muted flex items-center justify-center\">\r\n                      <span className=\"text-2xl text-muted-foreground\">{initials}</span>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <Label>Choose file</Label>\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <Input type=\"file\" className=\"flex-1\" />\r\n                        <Button variant=\"outline\">Browse</Button>\r\n                      </div>\r\n                      <p className=\"text-xs text-muted-foreground mt-2\">Image size should not be more than 300px by 300px.</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <Label>Company name (Optional)</Label>\r\n                      <Input placeholder=\"Ex: Sarahaswin\" value={profile.company} onChange={(e)=>setProfile({...profile, company: e.target.value})} />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <Label>First name</Label>\r\n                        <Input value={profile.firstName} onChange={(e)=>setProfile({...profile, firstName: e.target.value})} />\r\n                      </div>\r\n                      <div>\r\n                        <Label>Last name</Label>\r\n                        <Input value={profile.lastName} onChange={(e)=>setProfile({...profile, lastName: e.target.value})} />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <Label>Gender</Label>\r\n                      <div className=\"flex items-center gap-6 mt-2 text-sm\">\r\n                        <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"gender\" checked={profile.gender==='male'} onChange={()=>setProfile({...profile, gender:'male'})} /> Male</label>\r\n                        <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"gender\" checked={profile.gender==='female'} onChange={()=>setProfile({...profile, gender:'female'})} /> Female</label>\r\n                        <label className=\"flex items-center gap-2\"><input type=\"radio\" name=\"gender\" checked={profile.gender==='unspecified'} onChange={()=>setProfile({...profile, gender:'unspecified'})} /> Unspecified</label>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <Label>Email address</Label>\r\n                        <Input value={profile.email} onChange={(e)=>setProfile({...profile, email: e.target.value})} />\r\n                      </div>\r\n                      <div>\r\n                        <Label>Phone no</Label>\r\n                        <Input value={profile.phone} onChange={(e)=>setProfile({...profile, phone: e.target.value})} />\r\n                        <label className=\"mt-2 flex items-center gap-2 text-sm\">\r\n                          <input type=\"checkbox\" checked={profile.smsReminders} onChange={(e)=>setProfile({...profile, smsReminders: e.target.checked})} />\r\n                          <span>Send me reminders via text message</span>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <Label>Address</Label>\r\n                      <Input value={profile.address} onChange={(e)=>setProfile({...profile, address: e.target.value})} />\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={()=>{ setShowAddContact((s)=>!s); setShowContactsList(false); }}>+ Add Other Contact</Button>\r\n                      <Button variant=\"outline\" size=\"sm\" className=\"text-cyan-700\" onClick={()=>{ setShowContactsList((s)=>!s); setShowAddContact(false); }}>View Other Contact(s)</Button>\r\n                    </div>\r\n\r\n                    {showAddContact && (\r\n                      <div className=\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 p-3 border rounded-md\">\r\n                        <div>\r\n                          <Label>Contact Name</Label>\r\n                          <Input value={newContact.name} onChange={(e)=>setNewContact({...newContact, name: e.target.value})} placeholder=\"Full name\" />\r\n                        </div>\r\n                        <div>\r\n                          <Label>Contact Email</Label>\r\n                          <Input type=\"email\" value={newContact.email} onChange={(e)=>setNewContact({...newContact, email: e.target.value})} placeholder=\"email@example.com\" />\r\n                        </div>\r\n                        <div>\r\n                          <Label>Contact Phone</Label>\r\n                          <Input value={newContact.phone} onChange={(e)=>setNewContact({...newContact, phone: e.target.value})} placeholder=\"(555) 123-4567\" />\r\n                        </div>\r\n                        <div className=\"md:col-span-3 flex justify-end gap-2\">\r\n                          <Button variant=\"outline\" onClick={()=>{ setShowAddContact(false); setNewContact({name:\"\",email:\"\",phone:\"\"}); }}>Cancel</Button>\r\n                          <Button className=\"text-white\" style={{ background: 'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)' }} onClick={addContact}>Save Contact</Button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {showContactsList && (\r\n                      <div className=\"mt-3 space-y-2 p-3 border rounded-md\">\r\n                        {contacts.length === 0 && (\r\n                          <div className=\"text-sm text-muted-foreground\">No other contacts added.</div>\r\n                        )}\r\n                        {contacts.map((c, i) => (\r\n                          <div key={i} className=\"flex items-center justify-between gap-3\">\r\n                            <div className=\"text-sm\">\r\n                              <div className=\"font-medium\">{c.name}</div>\r\n                              <div className=\"text-muted-foreground\">{c.email}{c.phone ? ` Â· ${c.phone}` : ''}</div>\r\n                            </div>\r\n                            <Button variant=\"outline\" size=\"sm\" onClick={()=>removeContact(i)}>Remove</Button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n\r\n                    <div>\r\n                      <Label>Notes</Label>\r\n                      <Textarea \r\n                        placeholder=\"Add notes about this customer\" \r\n                        className=\"min-h-[150px] mt-2\" \r\n                        value={profile.notes} \r\n                        onChange={(e)=>setProfile({...profile, notes: e.target.value})} \r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Empty div to maintain grid layout */}\r\n                <div></div>\r\n              </div>\r\n              {/* Footer actions under the whole form */}\r\n              <div className=\"flex items-center justify-between gap-3 flex-wrap pt-2 border-t mt-2\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Button variant=\"outline\" onClick={()=>toast({title:'Welcome Email Sent', description:'A welcome email has been resent.'})}>Resend Welcome Email</Button>\r\n                  <Button variant=\"outline\" onClick={()=>toast({title:'Reset Password Email Sent', description:'A reset password email has been resent.'})}>Resend Reset Password Email</Button>\r\n                </div>\r\n                <Button onClick={saveProfile} className=\"text-white\" style={{ background: 'linear-gradient(135deg, #00BCD4 0%, #00D4E8 100%)' }}>\r\n                  Save Changes\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"gift\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Gift cards</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-sm text-muted-foreground\">No gift cards yet.</CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"referrals\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Referrals</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-sm text-muted-foreground\">No referrals yet.</CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"drive\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>My drive</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-sm text-muted-foreground\">No files uploaded.</CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"invoices\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Invoices</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-sm text-muted-foreground\">No invoices yet.</CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"notifications\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Notifications</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"text-sm text-muted-foreground\">No notifications yet.</CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}